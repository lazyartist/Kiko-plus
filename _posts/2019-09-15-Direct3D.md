---
layout: post
title: "Direct3D"
description: ""
date: 2019-09-15 19:00:00+09:00
tags: [Direct3D]
comments: true
share: true
---

[TOC]



## COM(Component Object Model)

- 응용 프로그램 이진 인터페이스
- 프로그램이나 시스템을 이루는 컴포넌트들이 상호 통신할 수 있도록 하는 메커니즘
  - 서로 다른 프로그램들이 서로 통신할 수 있도록 하는 명세
- 컴포넌트란
  - .ocx, .dll, .exe를 확장자로 갖는 실행 가능한 바이너리 파일
- 특징
  - 언어 독립성
    - 서로 다른 언어로 작성된 컴포넌트들이 COM을 지원하는 툴로 만들어졋다면 마치 동일한 개발 도구로 생성한 프로그램 모듈처럼 상호 통신할 수 있다.
  - Binary Standard
    - 다른 플랫폼으로 작성된 프로그램의 소스코드가 없이 binary 파일만 있어도 사용할 수 있다.
  - Version Control
    - 새로운 기능을 모듈에 추가할 수 있다.
    - 새로운 기능과 이전 기능을 클라이언트 요청에 따라 동시에 제공할 수 있다.
  - Location Transparency
    - 컴포넌트가 물리적 위치에 관계없이 다른 컴포넌트 혹은 컴포넌트 클라이언트에 의해 사용될 수 있다.
    - In-process
      - .dll, .ocx
      - 컴포넌트 클라이언트의 메모리 영역으로 로드되어 사용됨
    - Out-of-process
      - .exe
      - 컴포넌트 클라이언트와 동일한 머신에서 수행
    - Out-of-machine(네트워크를 통한 리모트 머신)
      - .exe
      - 컴포넌트 클라이언트와 네트워크로 연결된 다른 머신에서 수행
- Interface
  - COM이 제공하는 기능
  - COM 컴포넌트는 하나 이상의 인터페이스를 제공해야한다.
  - COM 객체가 제공하는 기능을 기술한 것
    - 바이너리 파일로 배포되는 COM 컴포넌트가 자신이 제공하는 기능을 이를 사용하려는 프로그램에 알려줄 수 있는 방법이 필요하기 때문



## Direct3D와 다른 시스템 컴포넌트와의 관계도


<svg xmlns="http://www.w3.org/2000/svg" width="662" height="284.1111145019531" style="
        width:662px;
        height:284.1111145019531px;
        background: #FFF;
        fill: none;
">
        <svg xmlns="http://www.w3.org/2000/svg"><g><defs><pattern id=".2845496072733278" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="lightgray" stroke-width="0.5"/></pattern></defs><rect width="100%" height="100%" fill="url(#.2845496072733278)" stroke="lightgray" stroke-width="0.5"/></g></svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g/></g><g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M261,81 L261,38" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,261,36)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M192.12,139 L243.23,104.13" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(-0.8259999280643188,0.5636702217056886,-0.5636702217056886,-0.8259999280643188,244.87931034482756,103)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M367.51,194 L273.93,104.38" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(0.7222432592616973,0.6916391215446396,-0.6916391215446396,0.7222432592616973,272.4867256637168,103)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M338.4,194 L218.53,161.52" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(0.9651993018659998,0.261515406195097,-0.261515406195097,0.9651993018659998,216.6,161)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M389.11,194 L469.54,106.47" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(-0.6766189820945451,0.7363333165553095,-0.7363333165553095,-0.6766189820945451,470.8918918918918,105)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M481.33,83 L482.61,40" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(-0.0298406997386805,0.9995546671588833,-0.9995546671588833,-0.0298406997386805,482.6716417910448,38)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g><g class="connection-group"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M378.23,241 L378.72,218" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(-0.02129140789487423,0.9997733122812661,-0.9997733122812661,-0.02129140789487423,378.76595744680856,216)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g></g></g><g><g><rect rx="0" ry="0" x="419" y="16" width="128" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g><g><rect rx="0" ry="0" x="197" y="14" width="128" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g><g><rect rx="0" ry="0" x="214" y="81" width="94" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g><g><rect rx="0" ry="0" x="132.5" y="139" width="87" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g><g><rect rx="0" ry="0" x="281" y="194" width="196" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g><g><rect rx="0" ry="0" x="463.5" y="83" width="35" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g><g><rect rx="0" ry="0" x="309.5" y="241" width="137" height="22" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/></g></g><!-- react-empty: 11581 --></svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="660" height="282.1111145019531" style="width:660px;height:282.1111145019531px;font-family:Asana-Math, Asana;background:#FFF;"><g><g><text x="201.37847900390625" y="16.555557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">Win32 Application</text></g></g><g><g><text x="423.37847900390625" y="18.555557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">Win32 Application</text></g></g><g><g><text x="201.37847900390625" y="16.555557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">Win32 Application</text></g></g><g><g><text x="218.06597900390625" y="83.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">Direct3D API</text></g></g><g><g><text x="136.67709350585938" y="141.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">HAL Device</text></g></g><g><g><text x="284.8125" y="196.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">Device Driver Interface(DDI)</text></g></g><g><g><text x="467.6632080078125" y="85.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">GDI</text></g></g><g><g><text x="313.39239501953125" y="243.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">Graphics Hardware</text></g></g></svg>
</svg>


- HAL(Hardware Abstraction Layer)
  - 하드웨어 추상화 계층
  - 컴퓨터의 물리적인 하드웨어와 컴퓨터에서 실행되는 소프트웨어 사이의 추상화 계층
  - 하드웨어의 차이를 숨겨서 응용 프로그램이 작동할 수 있는 일관된 플랫폼을 제공
  - 하드웨어 가속을 사용하므로 빠르지만 특정 하드웨어에서는 안돌아갈 수 있다.
- Reference Device
  - 하드웨어 가속을 하지 않는다.
  - 범용적이지만 느리다.
- GDI(Graphics Device Interface)
  - 응용프로그램에서 그래픽 관련 하드웨어를 사용할 수 있게 한다.
  - Bitmap, Brush, Color, Font, Pen, Video Display, Printer, ...
- DDI(Device Driver Interface)

  - 하드웨어 설치 후 운영체제에 설치하는 소프트웨어
  - 드라이버



## Windows10에서 DirectX SDK 설치

### DirectX SDK 9 설치

- 설치 안하고 사용하려 했으나 예제를 따라하기 힘들어 그냥 설치한다.
  - https://www.microsoft.com/en-us/download/details.aspx?id=6812
- 설치하니 프로그램 목록에 다음 것들이 추가됐다.
  - Microsoft DirectX SDK (June 2010)
  - Microsoft Visual C++ 2008 Redistributable - x86 9.0.30729.17
  - Microsoft Visual C++ 2010 Redistributable - x86 10.0.30319
- 헤더파일과 라이브러리를 프로젝트에 추가한다.
  - 
  - 



- 2012 11월 Windows8.0부터 Windows SDK에 DirectX SDK가 포함되어 따로 설치할 필요가 없다.
- 단, 일부 기능이 미지원될 수 있다.
- Windows10에서 DirceX9 SDK를 따로 설치하지 않고 DirectX9을 사용할 수 있지만 기존의 라이브러리중 사용할 수 없는 것이 있다.
  - d3dx9math.h
    - 여기에서 사용된 D3DXVECTOR3 등의 구조체는 DirectXMath.h에 있는 구조체로 대체하여 사용해야한다.
    - 여기에 대응되는 목록이 있다.
      - Working with D3DXMath
      - https://docs.microsoft.com/en-us/windows/win32/dxmath/pg-xnamath-migration-d3dx

### DirectX9를 설치한 경우

- DirectX 설치 디렉터리의 include 디렉터리 경로를 프로젝트 포함 디렉터리에 추가
- DirectX 설치 디렉터리의 lib 디렉터리 경로를 프로젝트 라이브러리 디렉터리에 추가
- 프로젝트 설정 > 링커 > 추가 종속성에 다음 추가
  - dxguid.lib
  - d3d9.lib
  - d3dx9.lib









## Direct3D 초기화 및 생성

```cpp
//Direct3D 9버전의 헤더 추가
#include <d3d9.h>
//Direct3D 9 라이브러리 추가
//#pragma comment는 프로젝트 속성에서 lib를 포함하지 않아도 사용할 수 있게 한다.
//첫번째 인자는 등록할 확장명, 두번째 인자는 파일 이름
#pragma comment (lib, "d3d9.lib")


//DirectX 시스템 객체 포인터, COM interface이다.
LPDIRECT3D9 g_pD3DInterface;
//DirectX 디바이스 객체(실제 화면을 출력하는 역할)
//디바이스 인터페이스, 그래픽 드라이버, 비디오 카드에 대한 정보를 가지고 있다.
//렌더링을 위해 사용한다.
LPDIRECT3DDEVICE9 g_pD3DDevice;


	//g_pD3DInterface 
	//Direct3D COM interface를 생성
	//Direct3D 9C 버전에서는 32를 리턴한다.
	if ((g_pD3DInterface = Direct3DCreate9(D3D_SDK_VERSION)) == nullptr) {
		return E_FAIL;
	}
	//g_pD3DInterface 디바이스 생성에 필요한 파라미터를 전달하고 그래픽 장치에 대한 정보를 받아오는 구조체
	D3DPRESENT_PARAMETERS sD3DParam;
	//sD3DParam의 메모리를 초기화한다.
	//참고로 sD3DParam의 기본값은 대부분 0이기 때문에 0으로 초기화하고 필요한 값만 변경하면 된다.
	ZeroMemory(&sD3DParam, sizeof(sD3DParam));
	//true:창, false:전체화면
	sD3DParam.Windowed = true;
	//화면 버퍼링 방식 지정
	//D3DSWAPEFFECT_DISCARD: 플립방식으로 백버퍼의 값을 보존하지 않는 방식. 따라서 플리핑 시 주소만 교환하므로 빠르다.
	//D3DSWAPEFFECT_FLIP: 플립방식으로 백버퍼의 값을 보존하는 방식. 플리핑 시 이전 백 버퍼의 내용을 다음 백버퍼에 복사하고 프론트 버퍼로 지정되므로 느리다. 백버퍼가 여러개일 수 있다.
	//D3DSWAPEEFECT_COPY: 백버퍼를 고정하는 방식으로 프론트 버퍼에 백 버퍼의 픽셀을 복사한다.
	sD3DParam.SwapEffect = D3DSWAPEFFECT_DISCARD;
	//현재 윈도우와 동일한 색상 정보를 갖는 백버퍼를 사용
	sD3DParam.BackBufferFormat = D3DFMT_UNKNOWN;
	//Direct3D를 사용할 윈도우 핸들
	sD3DParam.hDeviceWindow = g_hWnd;
	//Direct3D 디바이스 객체를 생성
	if (FAILED(g_pD3DInterface->CreateDevice(D3DADAPTER_DEFAULT,
		//그래픽 디바이스 타입을 정한다.
		//그래픽 가속을 위해 HAL(Hardware Abstraction Layer)를 사용한다.
		D3DDEVTYPE_HAL,
		//윈도우 핸들
		g_hWnd,
		//D3DCREATE_SOFTWARE_VERTEXPROCESSING: 3D 계산을 소프트웨어로 한다.
		//D3DCREATE_MIXED_VERTEXPROCESSING: 소프트웨어와 하드웨어 분할처리
		//D3DCREATE_HARDWARE_VERTEXPROCESSING: 하드웨어에서 처리
		D3DCREATE_SOFTWARE_VERTEXPROCESSING,
		//D3DPRESENT_PARAMETERS의 포인터
		&sD3DParam,
		//LPDIRECT3DDEVICE9의 포인터(이중포인터)
		&g_pD3DDevice))) {
		return E_FAIL;
	};

	//render
	//백버퍼를 지정된 색으로 지운다(비운다)
	//첫번재, 두번째 매개변수는 사용되지 않는다.
	//세번째는 백버퍼를 비워야하므로 D3DCLEAR_TARGET을 지정, D3DCLEAR_TARGET: 백버퍼를 지우겠다는 뜻.
	//네번재는 D3DCOLOR_XRGB 매크로를 통해 색을 지정, XRGB는 Alpha값을 안쓴다는 뜻. 255가 1.0이다.
	g_pD3DDevice->Clear(0, nullptr, D3DCLEAR_TARGET, D3DCOLOR_XRGB(0, 40, 100), 1.0f, 0);
	//g_pD3DInterface에서 비디오 메모리를 컨트롤 하기 위해 잠금을 해지한다.
	//용도1. g_pD3DInterface 메모리 컨트롤
	//용도2. BeginScene()을 호출하면 메모리에 단독으로 액세스 할 수 있기 때문에 비디오 RAM 버퍼를 잠금 또는 해지할 때 사용
	if (SUCCEEDED(g_pD3DDevice->BeginScene())) {
		//여기서 화면을 그린다.

		//BeginScene()로 잠금해지된 비디오 메모리를 잠근다.
		g_pD3DDevice->EndScene();
		//백버퍼를 프론트버퍼로 교환(플리핑)한다.
		g_pD3DDevice->Present(nullptr, nullptr, nullptr, nullptr);
	};



	//release g_pD3DInterface
	//디바이스를 먼저 해제한다.
	if(g_pD3DDevice != nullptr) g_pD3DDevice->Release();
	if (g_pD3DInterface != nullptr) g_pD3DInterface->Release();
```







## Direct3D 구조

### Direct3D 그래픽 파이프라인 구조

- 입력 조립기
- 정점 셰이더
- 덮개 셰이더
- 테셀레이터
- 영역 셰이더
- 기하 셰이더
  - 스트림 출력
- 래스터화
- 픽셀 셰이더
- 출력 병합기



## 벡터

### 벡터 구조체

- D3DVECTOR
- x, y, z값만 가지는 단순한 구조체

### 벡터 구조체 확장

- D3DXVECTOR3
- D3DVECTOR를 상속하여 연산자 오버로딩 등 추가 기능을 더한 구조체

### 벡터의 연산

- 헤더: D3dx9math.h
- 라이브러리: D3dx9.lib

### 벡터의 합

- D3DXVec3Add()
- D3DXVECTOR3의 operator+를 사용해도 된다.

### 벡터의 차

- D3DXVec3Subtract()
- D3DXVECTOR3의 operator-를 사용해도 된다.

### 벡터의 크기

- D3DXVec3Length()

### 벡터의 크기 변환

- D3DXVec3Scale()

### 벡터의 정규화

- D3DXVecNormalize()

### 벡터의 내적

- D3DXVec3Dot()

### 벡터의 외적

- 두 벡터로 이루어진 평면이 앞면인지 뒷면인지 판단
  - 평면이 법선 벡터와 카메라 시선 벡터의 내적이 양수이면 뒷면 음수이면 앞면
- 빛의 방향과 법선 벡터 사이각의 정도에 따라 빛의 양을 결정
  - 내적의 절대값(|-1~1|)을 빛의 양에 곱해준다.
- 외적은 연산순서가 바뀌면 방향이 다른 벡터가 나오므로 교환법칙이 성립하지 않는다.
- D3DXVec3Cross()



## 정점

### 정점 

- 공간 상의 한점
- 선분에서는 각 끝에 위치한 점
- 삼각형에서는 각 꼭지점

### 정점 포맷

- d3d에서 정점을 나타내기 위한 자료구조
- FVF(flexible vertex format)
  - 각 프로그램에 맞게 정점 포맷을 정의할 수 있도록 유연성을 제공한다.
  - 필요로하는 정점 포맷을 선택하여 조합할 수 있다.

#### FVF의 요소들

| 이름                          | 한글 이름          | 자료구조             | 자료형                          | 설명                                                         |
| ----------------------------- | ------------------ | -------------------- | ------------------------------- | ------------------------------------------------------------ |
| Position                      | 정점의 좌표        | x, y, z              | float3                          | 정점의 3차원 x, y, z 값                                      |
| RHW(Reciprocal Homogeneous W) | -                  | RHW                  | float                           | 동차 좌표계의 W값(이미 변환된 정점에만 사용하는 옵션)        |
| Blending Weight Data          | 결합가중치         | 1st-5th Blend Weight | -                               | 블렌딩값(스키닝에 사용)                                      |
| Vertex Normal                 | 정점의 법선벡터    | x, y, z              | float3                          | 정점의 법선벡터(광원처리에 사용)                             |
| Vertex Point Size             | 정점의 포인트 크기 | size                 | float                           | 정점의 포인트 크기                                           |
| Diffuse Color                 | 확산광 색          | r, g, b, a           | DWORD                           | RGBA(r, g, b, a) 매크로값, 정점의 확산광 색을 나타냄         |
| Specular Color                | 반사광 색          | r, g, b, a           | DWORD                           | RGBA(r, g, b, a) 매크로값, 정점의 반사광을 나타냄            |
| Texture Coordinate Set 1~8    | 텍스처 좌표        | 1, 2, 3 or 4         | float, float2, float3 or float4 | 텍스처 좌표값, Direct3D는 8개의 텍스처를 동시에 겹쳐서 사용할 수 있다.<br />(예, 첫 번째 값을 diffuse 맵정보로, 두 번째 값을 법선맵 정보로 설정해서 사용하는 식) |

> RHW
>
> - 현재의 정점을 2D 좌표처럼 사용
> - RHW가 설정되면 현재의 정점 좌표가 3D 변환인 월드, 뷰, 프로젝션 변환이 적용된 최종 좌표로 판단하므로 x, y 좌표만 참조하여 그대로 화면에 출력한다.
> - 일반적으로 w의 값은 1.0로 고정하여 사용



#### 정점 포맷 만들기

- FVF로 정점을 정의하고 Flexible vertex format bits로 각 자료형의 역할이 무엇인지 정의한다.

```cpp
//정점 구조체 정의
struct SVertex {
	float x, y, z, rhw;
	DWORD color;
};
//정점 구조체 멤버의 역할 정의
#define D3DFVF_SVertex (D3DFVF_XYZRHW | D3DFVF_DIFFUSE)
```



### 정점 3개로 삼각형 만들기

```cpp
SVertex sVertices[3] = {
    {100.0f, 200.0f, 0.0f, 1.0f, 0xffff0000},
    {200.0f, 100.0f, 0.0f, 1.0f, 0xff00ff00},
    {300.0f, 200.0f, 0.0f, 1.0f, 0xff0000ff}
};
```



### Direct3D의 좌표계

- 왼손 좌표계


<svg xmlns="http://www.w3.org/2000/svg" width="662" height="302" style="
        width:662px;
        height:302px;
        background: #FFF;
        fill: none;
">
        <svg xmlns="http://www.w3.org/2000/svg"><g><defs><pattern id=".9514236866772476" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="lightgray" stroke-width="0.5"/></pattern></defs><rect width="100%" height="100%" fill="url(#.9514236866772476)" stroke="lightgray" stroke-width="0.5"/></g></svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="composite-shape"><path class="real" d=" M332,171 L367,211 L297,211 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none;"/></g><g class="composite-shape"><path class="real" d=" M453.5,217.35 C453.5,181.62 417.91,152.66 374,152.66 L374,128.81 C417.91,128.81 453.5,157.77 453.5,193.5" style="stroke-width: 1; stroke: rgb(74, 144, 226); fill: rgb(255, 255, 255);"/><path class="real" d=" M453.5,193.5 C453.5,220.03 433.88,242.83 405.8,252.82 L405.8,244.87 L374,270.13 L405.8,284.62 L405.8,276.67 C433.88,266.68 453.5,243.88 453.5,217.35 M453.5,193.5 L453.5,217.35" style="stroke-width: 1; stroke: rgb(74, 144, 226); fill: rgb(255, 255, 255);"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M297,211 L297,168.81" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/><g stroke="none" fill="rgba(74,144,226,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,297,166.8055419921875)" style="stroke: none; fill: rgb(74, 144, 226); stroke-width: 1;"><path d=" M8.93,-4.29 L0,0 L8.93,4.29 Z"/></g><g stroke="rgba(74,144,226,1)" fill="rgba(74,144,226,1)" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,297,211)" style="stroke: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M332,171 L332,128.81" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/><g stroke="none" fill="rgba(74,144,226,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,332,126.8055419921875)" style="stroke: none; fill: rgb(74, 144, 226); stroke-width: 1;"><path d=" M8.93,-4.29 L0,0 L8.93,4.29 Z"/></g><g stroke="rgba(74,144,226,1)" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,332,171)" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: rgb(74, 144, 226);" fill="rgba(74,144,226,1)"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M367,211 L367,168.81" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/><g stroke="none" fill="rgba(74,144,226,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,367,166.8055419921875)" style="stroke: none; fill: rgb(74, 144, 226); stroke-width: 1;"><path d=" M8.93,-4.29 L0,0 L8.93,4.29 Z"/></g><g stroke="rgba(74,144,226,1)" fill="rgba(74,144,226,1)" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,367,210.99999999999994)" style="stroke: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M214.5,218.95 C214.5,182.78 248.3,153.46 290,153.46 L290,130.81 C248.3,130.81 214.5,160.13 214.5,196.3" style="stroke-width: 1; stroke: rgb(208, 2, 27); fill: rgb(255, 255, 255);"/><path class="real" d=" M214.5,196.3 C214.5,223.16 233.13,246.24 259.8,256.35 L259.8,248.8 L290,273.13 L259.8,286.55 L259.8,279 C233.13,268.89 214.5,245.81 214.5,218.95 M214.5,196.3 L214.5,218.95" style="stroke-width: 1; stroke: rgb(208, 2, 27); fill: rgb(255, 255, 255);"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M297,213.35 L297,242.81" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: none;"/><g stroke="none" fill="rgba(208,2,27,1)" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,297,244.80554199218744)" style="stroke: none; fill: rgb(208, 2, 27); stroke-width: 1;"><path d=" M8.93,-4.29 L0,0 L8.93,4.29 Z"/></g><g stroke="rgba(208,2,27,1)" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,297,211)" style="stroke: rgb(208, 2, 27); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M332,173.35 L332,204.81" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: none;"/><g stroke="none" fill="rgba(208,2,27,1)" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,332,206.80554199218744)" style="stroke: none; fill: rgb(208, 2, 27); stroke-width: 1;"><path d=" M8.93,-4.29 L0,0 L8.93,4.29 Z"/></g><g stroke="rgba(208,2,27,1)" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,332,171)" style="stroke: rgb(208, 2, 27); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M367,213.35 L367,244.81" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: none;"/><g stroke="none" fill="rgba(208,2,27,1)" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,367,246.80554199218744)" style="stroke: none; fill: rgb(208, 2, 27); stroke-width: 1;"><path d=" M8.93,-4.29 L0,0 L8.93,4.29 Z"/></g><g stroke="rgba(208,2,27,1)" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,367,211)" style="stroke: rgb(208, 2, 27); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g/></g><g/><g/><!-- react-empty: 723 --></svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="660" height="300" style="width:660px;height:300px;font-family:Asana-Math, Asana;background:#FFF;"><g><g><text x="202.1978759765625" y="9" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">왼손 좌표계 법선벡터 방향</text></g></g><g><g><text x="279.625" y="201.5555419921875" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="316.625" y="158.5555419921875" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="374.625" y="199.5555419921875" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="471.5833740234375" y="163.5555419921875" style="white-space:pre;stroke:none;fill:rgb(74, 144, 226);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(74, 144, 226);">시계방향(ClockWise)</text></g></g><g><g><text x="492.8160400390625" y="186.5555419921875" style="white-space:pre;stroke:none;fill:rgb(74, 144, 226);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(74, 144, 226);">a → b → c→ a</text></g></g><g><g><text x="4.40277099609375" y="171.5555419921875" style="white-space:pre;stroke:none;fill:rgb(208, 2, 27);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(208, 2, 27);">반시계방향(CounterClockWise)</text></g></g><g><g><text x="57.732666015625" y="194.5555419921875" style="white-space:pre;stroke:none;fill:rgb(208, 2, 27);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(208, 2, 27);">a → c → b → a</text></g></g><g><g><text x="23.32989501953125" y="220.5555419921875" style="white-space:pre;stroke:none;fill:rgb(208, 2, 27);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(208, 2, 27);">법선벡터가 아래로 향한다</text></g></g><g><g><text x="461.74658203125" y="217.5555419921875" style="white-space:pre;stroke:none;fill:rgb(74, 144, 226);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(74, 144, 226);">법선벡터가 위로 향한다.</text></g></g><g><g><text x="72.98614501953125" y="55.77777099609375" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1. 왼손을 엄지척 모양으로 만든다.</text></g><g><text x="72.98614501953125" y="73.5555419921875" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2. 그려지는 방향과 왼손의 검지, 중지, 약지, 새끼 손가락이 감싸쥔 방향을 맞춘다.</text></g><g><text x="72.98614501953125" y="91.33331298828125" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3. 엄지척한 엄지의 방향이 법선의 방향이다.</text></g></g></svg>
</svg>



### 정점 데이터의 순서

- 정점 데이터는 시계방향으로 만든다.
- Direct3D는 왼손 좌표계이므로 왼손으로 감싸쥐었을 때 왼손의 검지부터 새끼까지의 손가락이 가리키는 방향으로 버텍스를 그려야 법선 벡터가 엄지손가락 쪽으로 향하게 된다.



### 정점 버퍼 생성

- 출력할 정점을 저장하는 연속적인 메모리 버퍼
- 정점 버퍼는 비디오 메모리에 정점을 저장하기 때문에 시스템 메모리보다 휠씬 빠르다.
- CreateVertexBuffer()

```cpp
	//버텍스버퍼 생성
	LPDIRECT3DVERTEXBUFFER9 pVB;//버텍스버퍼의 인터페이스
	pD3DFramework->pD3DDevice->CreateVertexBuffer(
		sizeof(SVertex) * sizeof(sVertices) / sizeof(SVertex),//버텍스크기*개수
		D3DUSAGE_WRITEONLY,//리소스 사용법을 지정(D3DUSAGE_WRITEONLY:어플에서 버텍스버퍼의 쓰기 조작만 수행함을 지정)
		D3DFVF_SVertex,//버텍스데이터 사용법
		D3DPOOL_DEFAULT,//리소스버퍼를 저장할 시스템, 비디오 메모리를 지정(D3DPOOL_DEFAULT:최적의 메모리를 자동 선택)
		&pVB,//반환된 버텍스버퍼를 받을 포인터
		nullptr//사용하지 않는 변수, nullptr
	);
	//버텍스버퍼에 버텍스를 저장하기 위해 잠금
	//Lock을 하면 다른 자원이 접근할 수 없게되고 정점을 저장할 메모리 포인터를 반환한다.
	void *pVertices;//버텍스를 저장할 메모리의 시작 주소를 받을 변수
	pVB->Lock(0, 0, (void**)&pVertices, 0);
	memcpy(pVertices, sVertices, sizeof(sVertices));//버텍스버퍼에 버텍스를 메모리 복사
	pVB->Unlock();//잠금을 해제
```



### 정점을 화면에 출력하여 도형 그리기

- d3dDevice->BeginScene()과 d3dDevice->EndScene() 사이에 정점의 렌더링 코드를 작성한다.
- 정점 데이터 스트림
  - http://telnet.or.kr/directx/graphics/programmingguide/gettingstarted/rendering/renderingprimitives/vertexdatastreams.htm

![](https://raw.githubusercontent.com/lazyartist/blog/master/images/vertexdatastream.gif)

```cpp
	//버텍스 출력
	//1. 버텍스버퍼와 버텍스 포맷을 D3D 디바이스에 알려준다. 출력할 버텍스버퍼를 출력 스트림과 연결한다.
	pD3DFramework->pD3DDevice->SetStreamSource(
		0,//0으로 지정
		pVertexBuffer, //버텍스버퍼
		0, //메모리시작 위치
		sizeof(SVertex) //버텍스 크기
	);
	//2. D3D에 정점 셰이더 정보를 지정, 대부분 FVF만 지정한다.
	pD3DFramework->pD3DDevice->SetFVF(D3DFVF_SVertex);
	//3. 기하 정보를 출력하기 위한 DrawPrimitive() 함수 호출
	//DrawIndexedPrimitive(), DrawPrimitiveUP(), DrawIndexedPrimitiveUP()등이 있고
	//DrawIndexedPrimitive(), DrawIndexedPrimitiveUP()함수가 게임개발에 많이 사용된다.
	//DrawIndexedPrimitive()함수가 가장 빠르다.
	pD3DFramework->pD3DDevice->DrawPrimitive(
		D3DPT_TRIANGLESTRIP,
		0, //출력을 시작할 버텍스 인덱스
		1 //출력할 개수, 첫번째 파라미터 D3DPRIMITIVETYPE에 영향을 받는다.
	);
```



![](https://raw.githubusercontent.com/lazyartist/blog/master/images/direct3d_first_triangle.PNG)



## 행렬

### 행렬 구조체

#### D3DMATRIX

- 4x4 구조체
- d3d9type.h

#### D3DXMATRIX, XMMATRIX

- D3DMATRIX를 상속한 클래스
- 연산자 오버로딩 제공
- d3dx9math.h

#### 단위행렬(Identity Matrix) 함수

##### D3DXMatrixIdentity, XMMatrixIdentity

- 단위행렬을 생성한다.

```cpp
	printTitle("행렬과 단위행렬의 곱");
	{
		XMMATRIX matMatrix = {
			{11, 12, 13, 14},
			{21, 22, 23, 24},
			{31, 32, 33, 34},
			{41, 42, 43, 44},
		};
		//단위행렬
		XMMATRIX matIdentity = XMMatrixIdentity();
		//행렬과 단위행렬의 곱 방법1
		XMMATRIX matResult = matMatrix * matIdentity;
		//행렬과 단위행렬의 곱 방법2
		matResult = XMMatrixMultiply(matMatrix, matIdentity);
		//출력
		printMatrix("matMatrix", matMatrix);
		printMatrix("matIdentity", matIdentity);
		printMatrix("matResult", matResult);
		/*
		- matMatrix -
		11.0    12.0    13.0    14.0
		21.0    22.0    23.0    24.0
		31.0    32.0    33.0    34.0
		41.0    42.0    43.0    44.0
		- matIdentity -
		1.0     0.0     0.0     0.0
		0.0     1.0     0.0     0.0
		0.0     0.0     1.0     0.0
		0.0     0.0     0.0     1.0
		- matResult -
		11.0    12.0    13.0    14.0
		21.0    22.0    23.0    24.0
		31.0    32.0    33.0    34.0
		41.0    42.0    43.0    44.0
		*/
	}
```



#### 전치행렬(Transposed Matrix) 함수

##### D3DXMatrixTranspose(), XMMatrixTranspose

- 주어진 행렬의 전치행렬을 구한다.

```cpp
	printTitle("전치행렬");
	{
		XMMATRIX matMatrix = {
			{11, 12, 13, 14},
			{21, 22, 23, 24},
			{31, 32, 33, 34},
			{41, 42, 43, 44},
		};
		//전치행렬
		XMMATRIX matTranspose = XMMatrixTranspose(matMatrix);
		printMatrix("matMatrix", matMatrix);
		printMatrix("matTranspose", matTranspose);
		/*
		- matMatrix -
		11.0    12.0    13.0    14.0
		21.0    22.0    23.0    24.0
		31.0    32.0    33.0    34.0
		41.0    42.0    43.0    44.0
		- matTranspose -
		11.0    21.0    31.0    41.0
		12.0    22.0    32.0    42.0
		13.0    23.0    33.0    43.0
		14.0    24.0    34.0    44.0
		*/
		//전치행렬을 다시 전치행렬로 만들기
		XMMATRIX matResult = XMMatrixTranspose(matTranspose);
		printMatrix("matResult", matResult);
		/*
		- matResult -
		11.0    12.0    13.0    14.0
		21.0    22.0    23.0    24.0
		31.0    32.0    33.0    34.0
		41.0    42.0    43.0    44.0
		*/
	}
```



#### 역행렬(Inverse Matrix)

##### D3DXMatrixInverse(), XMMatrixInverse

- 주어진 행렬의 역행력을 구한다.
- 판별식의 값을 받을 수 있다.

#### 회전행렬

##### D3DXMatrixRotationX, XMMatrixRotationX

- X축을 기준으로 회전하는 행렬을 구한다.

```cpp
	printTitle("역행렬");
	{
		XMMATRIX matMatrix;
		//회전행렬
		XMMATRIX matRotation = XMMatrixRotationX(0.3f);
		//행렬식값(0이면 역행렬이 존재하지 않고 0이외의 값이면 역행렬이 존재한다)
		XMVECTOR fDeterminant;
		//역행렬(회전행렬은 항상 역행렬이 존재)
		XMMATRIX matInverse = XMMatrixInverse(&fDeterminant, matRotation);
		printMatrix("matRotation", matRotation);
		printMatrix("matInverse", matInverse);
		printf_s("- fDeterminant : %f\n", fDeterminant.vector4_f32[0]);
		/*
		- matRotation -
		1.0     0.0     0.0     0.0
		0.0     1.0     0.3     0.0
		0.0     -0.3    1.0     0.0
		0.0     0.0     0.0     1.0
		- matInverse -
		1.0     -0.0    0.0     0.0
		0.0     1.0     -0.3    0.0
		0.0     0.3     1.0     0.0
		0.0     0.0     0.0     1.0
		- fDeterminant : 1.000000
		*/
		//회전행렬과 역행렬의 곱 = 단위행렬
		XMMATRIX matResult = XMMatrixMultiply(matRotation, matInverse);
		printMatrix("matResult", matResult);
		/*
		- matResult -
		1.0     0.0     0.0     0.0
		0.0     1.0     0.0     0.0
		0.0     0.0     1.0     0.0
		0.0     0.0     0.0     1.0
		*/
	}
```



### 행 기준, 열 기준(우선)

- 행기준, 열기준은 행렬을 메모리에 어떤 순서로  저장할 것인가에 대한 규칙이다.
  - 행 기준(Row Major)
    - 11, 12, 13, 14, 21, 22, 23, 24, 31, 32, 33, 34, 41, 42, 43, 44
  - 열 기준(Column Major)
    - 11, 21, 31, 41, 12, 22, 32, 42, 13, 23, 33, 43, 14, 24, 34, 44
- 벡터와 행렬의 곱의 순서
  - 이것을 행기준, 열기준으로 표현하며 오해가 생겼다.
  - "벡터 x 행렬", "행렬 x 벡터" 이렇게 말해야한다.
- OpenGL
  - 곱하는 순서 : "행렬 x 벡터"
    - 문맥상 이해하기 어렵다.
      - 행렬 곱하기 벡터는 벡터
  - 저장 방식 : 열기준
    - 행렬 곱하기 벡터에서 행렬을 열기준으로 저장하면 하나의 행을 가져오기 위해 메모리를 한번에 읽을 수 없다.
- DirectX
  - 곱하는 순서 : "벡터 x 행렬"
    - 문맥상 이해하기 쉽다.
      - 벡터 곱하기 행렬은 벡터
  - 저장 방식 : 행기준
    - 곱하는 방식이 벡터 곱하기 행렬인데 행렬이 행기준으로 저장되므로 하나의 열을 한번에 가져올 수 없다.



### 라디안과 호도값 변환 매크로 함수

- D3DXToDegree(radian), XMConvertToDegrees
  - 라디안을 호도값으로 변환
- D3DXToRadian(degree), XMConvertToRadians
  - 호도값을 라디안으로 변환

```cpp
		printf_s("%f\n", XMConvertToRadians(90) );
		//1.570796
		printf_s("%f\n", XMConvertToDegrees(3.14) );
		//179.908737
```



### 선형변환

#### 이동행렬(Translation)

- D3DXMatrixTranslation
- XMMatrixTranslation

```cpp
		XMMATRIX matTranslation = XMMatrixTranslation(10, 20, 30);
		printMatrix("matTranslation", matTranslation);
		/*
		1.0     0.0     0.0     0.0
		0.0     1.0     0.0     0.0
		0.0     0.0     1.0     0.0
		10.0    20.0    30.0    1.0
		*/
```



#### 크기행렬(Scale)

- D3DXMatrixScaling
- XMMatrixScaling

```cpp
		XMMATRIX matScaling = XMMatrixScaling(0.5, 0.5, 0.5);
		printMatrix("matScaling", matScaling);
		/*
		0.5     0.0     0.0     0.0
		0.0     0.5     0.0     0.0
		0.0     0.0     0.5     0.0
		0.0     0.0     0.0     1.0
		*/
```



#### 회전행렬(Rotation)

##### 회전 행렬 함수

- D3DXMatrixRotationX, D3DXMatrixRotationY, D3DXMatrixRotationZ
- XMMatrixRotationX, XMMatrixRotationY, XMMatrixRotationZ

```cpp
		XMMATRIX matRotationX = XMMatrixRotationX(PI);
		printMatrix("matRotationX", matRotationX);
		/*
		1.0     0.0     0.0     0.0
		0.0     -1.0    0.0     0.0
		0.0     -0.0    -1.0    0.0
		0.0     0.0     0.0     1.0
		*/
```

##### x, y, z 축 회전이 적용된 행렬 함수

- D3DXMatrixRotationYawPitchRoll, XMMatrixRotationRollPitchYaw
  - 각 축에 대한 회전행렬을 다음 순서로 곱하여 반환한다.
    - Z * X * Y

```cpp
		XMMATRIX matRotationRollPitchYaw = XMMatrixRotationRollPitchYaw(PI, PI, PI);
		printMatrix("matRotationRollPitchYaw", matRotationRollPitchYaw);
		/*
		1.0     0.0     -0.0    0.0
		-0.0    1.0     -0.0    0.0
		0.0     0.0     1.0     0.0
		0.0     0.0     0.0     1.0
		*/
```

##### 임의의 축을 중심으로 한 회전 행렬 함수

- 임의의 축을 중심으로 시계방향으로 회전한 행렬을 구한다.
- D3DXMatrixRotationAxis, XMMatrixRotationAxis

```cpp
		XMMATRIX matRotationAxis = XMMatrixRotationAxis({1.0, 0, 0,0}, PI);
		printMatrix("matRotationAxis", matRotationAxis);
		/*
		1.0     0.0     0.0     0.0
		0.0     -1.0    0.0     0.0
		0.0     0.0     -1.0    0.0
		0.0     0.0     0.0     1.0
		*/
```

#### 이동과 회전, 확대/축소 행렬의 결합 순서

- S * R * T
- 크기행렬 * 회전행렬(z->x->y) * 이동 행렬

```cpp
		XMMATRIX matComposite = XMMatrixScaling(0.5, 0.5, 0.5)
			* XMMatrixRotationRollPitchYaw(PI, PI, PI)
			* XMMatrixTranslation(10, 20, 30);
		printMatrix("matComposite", matComposite);
		/*
		0.5     0.0     -0.0    0.0
		-0.0    0.5     -0.0    0.0
		0.0     0.0     0.5     0.0
		10.0    20.0    30.0    1.0
		*/
```



### 쿼터니온(사원수, Quaternion)

- 임의의 축을 기준으로 회전 행렬을 구해주는 수학도구
- 일반 회전 행렬에 비해 계산량이 적다
- 메모리를 적게 차지함
- 짐벌락(Gimbal Lock) 현상이 없음
- 단점
  - 직관적인 이해가 어렵다.



#### 쿼터니온 데이터 구조

- x, y, z는 회전축, w는 회전값(라디안)
- 회전 방향은 반시계(CCW)방향
- D3DXQUATERNION, XMVECTOR



#### 쿼터니온 연산

$$
Q=q_1 \cdot q_2
$$

- 행렬 곱셈과 다르게 뒤의 회전이 먼저 적용된다.
  - q2 회전을 먼저 적용하고 q1 회전을 적용
- 교환법칙 성립 안됨



##### 회전 행렬을 쿼터니온으로 만드는 함수

- D3DXQuaternionRotationMatrix, XMQuaternionRotationMatrix

```cpp
	printTitle("회전 행렬을 쿼터니온으로 만드는 함수");
	{
		XMMATRIX matRotation = XMMatrixRotationX(PI);
		printMatrix("matRotation", matRotation);
		/*
		1.0     0.0     0.0     0.0
		0.0     -1.0    0.0     0.0
		0.0     -0.0    -1.0    0.0
		0.0     0.0     0.0     1.0
		*/
		XMVECTOR vQuaternion = XMQuaternionRotationMatrix(matRotation);
		printVector("vQuaternion", vQuaternion);
		/*
		1.0     0.0     0.0     0.0
		*/
	}
```



##### yaw, pitch, roll에 의한 쿼터니온을 만드는 함수

- D3DXQuaternionRotationYawPitchRoll, XMQuaternionRotationRollPitchYaw

```cpp
	printTitle("yaw, pitch, roll에 의한 쿼터니온을 만드는 함수");
	{
		XMVECTOR vQuaternion = XMQuaternionRotationRollPitchYaw(PI, PI, PI);
		printVector("vQuaternion", vQuaternion);
		/*
		-0.0    0.0     0.0     1.0
		*/
	}
```

##### 임의의 축에 대해서 회전한 쿼터니온을 구하는 함수

- D3DXQuaternionRotationAxis, XMQuaternionRotationAxis
- 회전은 시계방향(CW)

```cpp
	printTitle("임의의 축에 대해서 회전한 쿼터니온을 구하는 함수");
	{
		XMVECTOR vQuaternion = XMQuaternionRotationAxis({ 1.0, 0, 0, 0 }, PI);
		printVector("vQuaternion", vQuaternion);
		/*
		1.0     0.0     0.0     -0.0
		*/
	}
```

##### 쿼터니온으로부터 회전 행렬을 구하는 함수

- D3DXMatrixRotationQuaternion, XMMatrixRotationQuaternion

```cpp
	printTitle("쿼터니온으로부터 회전 행렬을 구하는 함수");
	{
		XMVECTOR vQuaternion = XMQuaternionRotationAxis({ 1.0, 0, 0, 0 }, PI);
		printVector("vQuaternion", vQuaternion);
		/*
		1.0     0.0     0.0     -0.0
		*/
		XMMATRIX matRotation = XMMatrixRotationQuaternion(vQuaternion);
		printMatrix("matRotation", matRotation);
		/*
		1.0     0.0     0.0     0.0
		0.0     -1.0    -0.0    0.0
		0.0     0.0     -1.0    0.0
		0.0     0.0     0.0     1.0
		*/
	}
```

##### 길이가 1인 쿼터니온을 구하는 함수

- D3DXQuaternionNormalize, 

```cpp
	printTitle("길이가 1인 쿼터이온을 구하는 함수");
	{
		XMVECTOR vQuaternion = { 1.0, 2.0, 3.0, 4.0 };
		printVector("vQuaternion", vQuaternion);
		/*
		1.0     2.0     3.0     4.0
		*/
		vQuaternion = XMQuaternionNormalize(vQuaternion);
		printVector("vQuaternion", vQuaternion);
		/*
		0.2     0.4     0.5     0.7
		*/
	}
```



## 정점 변환



### 모델 좌표

- 3D 물체의 기준 좌표
- (0, 0, 0)을 기준으로 하는 정점의 좌표
- 3D 툴에서의 좌표계



### 정점 렌더링 파이프 라인



#### 월드 변환(World Transformation)

- 모델 좌표를 가진 물체의 정점들을 행렬변환(S * R * T)를 통해 렌더링 공간에 위치시키는 변환



#### 뷰 변환(View Transformation, Camera Transformation)

- 월드 공간의 모든 정점을 이동 및 회전시켜 뷰 공간으로 가져오는 변환
- 뷰(카메라) 좌표로 변환



##### 뷰 변환 행렬

- 뷰를 왼쪽으로 이동하기 위해서는 월드의 모든 정점을 오른쪽으로 이동시켜야한다.
  - 카메라(좌표계)가 고정되므로 정점을 이동시켜야한다.
- 스케일 행렬은 없음

$$
V = T \cdot R_z \cdot R_y \cdot R_x
$$

#### 투영변환(Projection Transformation)

- 원근 투영으로 가까운 물체와 먼 거리의 물체를 크게 또는 작게 표현하여 원근감이 있게 하는 변환
- 원근법을 적용하여 하나의 면에 정점을 위치시키는 변환



#### Clipping and Viewport Scaling

- 화면에 안보이는 정점을 제외시킴
- 화면(스크린) 좌표로 변환



### 변환함수

#### 월드, 뷰, 투영 행렬의 설정

```cpp
	LPDIRECT3DDEVICE9 pD3DDevice = nullptr;//초기화필요
	XMMATRIX matTransform;
	XMFLOAT4X4 matTransform2;
	XMStoreFloat4x4(&matTransform2, matTransform);
	pD3DDevice->SetTransform(D3DTS_WORLD, (D3DMATRIX*)&matTransform2);
```

- 모든 모델은 월드변환을 위한 행렬을 각각 보유한다.



#### 뷰 변환 행렬 함수

- D3DXMatrixLookAtLH, XMMatrixLookAtLH
- 뷰 변환 행렬은 일반적으로 하나이다.

```cpp
inline XMMATRIX XM_CALLCONV XMMatrixLookAtLH
(
    FXMVECTOR EyePosition, //카메라 위치
    FXMVECTOR FocusPosition, //바라보는 방향
    FXMVECTOR UpDirection //카메라에서 위쪽으로 향하는 벡터
)
```



#### 투영 변환 행렬 함수

- D3DXMatrixPerspectiveFovLH, XMMatrixPerspectiveFovLH

```cpp
inline XMMATRIX XM_CALLCONV XMMatrixPerspectiveFovLH
(
    float FovAngleY, //시야각
    float AspectRatio, //가로세로 비율, height/width
    float NearZ, //가까운 면까지 거리
    float FarZ // 먼 면까지 거리
)
```



#### 벡터 변환 행렬 함수

:ballot_box_with_check: 투영변환을 이해한 후 다시 봐야겠다.

##### D3DXVec3TransformCoord

- 위치 변환 함수
- 3차원 벡터를 w값이 1인 4차원 벡터 (x, y, z, 1)로 만들어 계산한다.
- 4x4 행렬을 곱하여 x, y, z벡터를 구한다.

##### D3DXVec3TransformNormal

- 벡터 변환 함수
- 벡터를 (x, y, z, 0)으로 만들어 변환 연산을 한다.
- 반환된 값을 정규화해야 크기와 방향을 갖게 된다.
- 로컬 공간에서의 벡터에 회전 및 스케일 변환을 적용하고자 했을 때 월드 공간에서의 벡터를 의미

##### D3DXVec4Transform

- w값을 임의로 설정하는 함수
- w값을 1로 하면 Coord와 같고 0으로 하면 Normal과 같아진다.



## 깊이 버퍼 설정

- 깊이 버퍼를 사용하기 위한 D3D 설정

```cpp
	//D3D 파라미터의 z버퍼 설정
	sD3DParam.EnableAutoDepthStencil = true;
	sD3DParam.AutoDepthStencilFormat = D3DFMT_D24S8;
	
	//디바이스의 z버퍼 설정
	pD3DDevice->SetRenderState(D3DRS_ZENABLE, true);

	//렌더링 설정, D3DCLEAR_ZBUFFER 추가
	pD3DDevice->Clear(0, nullptr, D3DCLEAR_TARGET | D3DCLEAR_ZBUFFER, D3DCOLOR_XRGB(0, 40, 100), 1.0f, 0);
```



## 뷰포트 설정

```cpp
	//Viewport
	D3DVIEWPORT9 d3dViewport9 = {};
	d3dViewport9.X = 0;//렌더링타겟 표면에서 뷰포트가 시작될 x위치
	d3dViewport9.Y = 0;//렌더링타겟 표면에서 뷰포트가 시작될 y위치
	d3dViewport9.Width = 800;//렌더링타겟에서 출력될 가로 크기
	d3dViewport9.Height = 800;//렌더링타겟에서 출력될 세로 크기
	d3dViewport9.MinZ = 0.0;//깊이버퍼의 최소 범위
	d3dViewport9.MaxZ = 1.0;//깊이버퍼의 최대 범위
	pD3DFramework->pD3DDevice->SetViewport(&d3dViewport9);
```



## 렌더링 파이프라인 만들기

- D3D 디바이스에 변환 행렬 적용
  - 정점 변환 행렬 
    - 월드 변환 행렬 적용
      - pD3DDevice->SetTransform(D3DTS_WORLD, (D3DMATRIX*)&f44)
    - 뷰 변환 행렬 적용
      - pD3DDevice->SetTransform(D3DTS_VIEW, (D3DMATRIX*)&f44);
    - 투영 변환 행렬 적용
      - pD3DDevice->SetTransform(D3DTS_PROJECTION, (D3DMATRIX*)&f44);
  - 변환 행렬 적용에 순서는 없음.
  - 월드 변환 행렬은 모델마다 다르지만 뷰, 투영 변환 행렬은 모델들이 공유하기 때문에 한번만 만들고 계속 사용할 수 있음.
- 정점을 그릴 수 있게 정보 설정
  - 정점 버퍼에 저장된 정점 버퍼와 정점 포맷을 D3D 디바이스에 알림
    - pD3DDevice->SetStreamSource
  - 정점 데이터를 해석하는 방법을 D3D 디바이스에 알림
    - pD3DDevice->SetFVF(D3DFVF_SVertex);
  - SetStreamSource에 의해 지정된 정점 버퍼의 정점을 그림

```cpp
	//World transformation
	XMMATRIX matWorld = XMMatrixScaling(1.0, 1.0, 1.0)//크기행렬
		*XMMatrixRotationX(0.0)//회전행렬
		*XMMatrixTranslation(0.0, 0.0, 0.0);//이동행렬
	XMFLOAT4X4 f44;
	XMStoreFloat4x4(&f44, matWorld);
	pD3DFramework->pD3DDevice->SetTransform(D3DTS_WORLD, (D3DMATRIX*)&f44);
	
	//View transformation
	XMMATRIX matView = XMMatrixLookAtLH(
		{ 10.0, 10.0, -10.0 },//카메라 위치
		{ 0.0, 0.0, 0.0 },//바라보는 방향
		{ 0.0, 1.0, 0.0 }//카메라에서 위쪽으로 향하는 벡터
	);
	XMStoreFloat4x4(&f44, matView);
	pD3DFramework->pD3DDevice->SetTransform(D3DTS_VIEW, (D3DMATRIX*)&f44);
	
	//Projection trasformation(직교투영)
	XMMATRIX matProj = XMMatrixOrthographicLH(
		50.0,
		50.0,
		1.0,//가까운 면의 Z값(음수를 넣으니 WM_SYSCOLORCHANGE가 계속와서 프로그램 진행이 안됨)
		100.0//먼 면의 Z값
	);
	XMStoreFloat4x4(&f44, matProj);
	pD3DFramework->pD3DDevice->SetTransform(D3DTS_PROJECTION, (D3DMATRIX*)&f44);
	
	//정점 출력
	//1. 버텍스버퍼와 버텍스 포맷을 D3D 디바이스에 알려준다. 출력할 버텍스버퍼를 출력 스트림과 연결한다.
	pD3DFramework->pD3DDevice->SetStreamSource(
		0,//0으로 지정
		pAxisVertexBufferInterface, //버텍스버퍼
		0, //메모리시작 위치
		sizeof(SVertex) //버텍스 크기
	);
	//2. D3D에 정점 데이터를 어떻게 해석해하는지 설정한다.
	pD3DFramework->pD3DDevice->SetFVF(D3DFVF_SVertex);
	//3. 기하 정보를 출력하기 위한 DrawPrimitive() 함수 호출
	//DrawIndexedPrimitive(), DrawPrimitiveUP(), DrawIndexedPrimitiveUP()등이 있고
	//DrawIndexedPrimitive(), DrawIndexedPrimitiveUP()함수가 게임개발에 많이 사용된다.
	//DrawIndexedPrimitive()함수가 가장 빠르다.
	pD3DFramework->pD3DDevice->DrawPrimitive(
		D3DPT_LINELIST,
		//D3DPT_TRIANGLESTRIP,
		0, //출력을 시작할 버텍스 인덱스
		3 //출력할 개수, 첫번째 파라미터 D3DPRIMITIVETYPE에 영향을 받는다.
	);
```



##  인덱스 버퍼

- 정점 버퍼에 들어간 정점의 인덱스를 이용하여 삼각형을 그릴 수 있게 인덱스를 활용하는 버퍼
- LP

### 정점과 인덱스 선언

- 인덱스는 WORD형으로 나열하며 삼각형은 시계(CW)방향으로 정점의 인덱스를 구성

```cpp
	//정육면체 정점
	SVertex2 sCubeVertices[8] = {
	{ {-10.0f, -10.0f, 0.0f}, 0xffffffff},
	{ {-10.0f, 10.0f, 0.0f}, 0xffff0000},
	{ {10.0f, 10.0f, 0.0f}, 0xff00ff00},
	{ {10.0f, -10.0f, 0.0f}, 0xff00ff},

	{ {-10.0f, -10.0f, 20.0f}, 0xffffffff},
	{ {-10.0f, 10.0f, 20.0f}, 0xffff0000},
	{ {10.0f, 10.0f, 20.0f}, 0xff00ff00},
	{ {10.0f, -10.0f, 20.0f}, 0xff0000ff},
	};

	//정육면체 인덱스, 면의 방향이 바깥을 향하도록 시계방향으로 그린다.
	WORD sCubeIndices[36] = {
		//앞
		0, 1, 2,
		0, 2, 3,
		//뒤
		7, 6, 5,
		7, 5, 4,
		//좌
		4, 5, 1,
		4, 1, 0,
		//우
		3, 2, 6,
		3, 6, 7,
		//상
		1, 5, 6,
		1, 6, 2,
		//하
		3, 7, 4,
		3, 4, 0,
	};
```



### 정점 버퍼  및 인덱스 버퍼 생성

```cpp
	//버텍스버퍼 생성
	pD3DFramework->pD3DDevice->CreateVertexBuffer(
		sizeof(sCubeVertices),//버텍스배열의 크기
		D3DUSAGE_WRITEONLY,//리소스 사용법을 지정(D3DUSAGE_WRITEONLY:어플에서 버텍스버퍼의 쓰기 조작만 수행함을 지정)
		D3DFVF_SVertex,//버텍스 타입
		D3DPOOL_DEFAULT,//리소스버퍼를 저장할 시스템, 비디오 메모리를 지정(D3DPOOL_DEFAULT:최적의 메모리를 자동 선택)
		&pCubeVertexBufferInterface,//반환된 버텍스버퍼를 받을 포인터
		nullptr//사용하지 않는 변수, nullptr
	);
	//버텍스버퍼에 버텍스를 저장하기 위해 잠금
	//Lock을 하면 다른 자원이 접근할 수 없게되고 정점을 저장할 메모리 포인터를 반환한다.
	void *pVertices;//버텍스를 저장할 메모리의 시작 주소를 받을 변수
	pCubeVertexBufferInterface->Lock(0, 0, (void**)&pVertices, 0);
	memcpy(pVertices, sCubeVertices, sizeof(sCubeVertices));//버텍스버퍼에 버텍스를 메모리 복사
	pCubeVertexBufferInterface->Unlock();//잠금을 해제

	//인덱스버퍼 생성
	pD3DFramework->pD3DDevice->CreateIndexBuffer(
		sizeof(sCubeIndices),//인덱스배열의 크기
		D3DUSAGE_WRITEONLY,//리소스 사용법을 지정(D3DUSAGE_WRITEONLY:어플에서 버텍스버퍼의 쓰기 조작만 수행함을 지정)
		D3DFMT_INDEX16,//인덱스 타입
		D3DPOOL_DEFAULT,//리소스버퍼를 저장할 시스템, 비디오 메모리를 지정(D3DPOOL_DEFAULT:최적의 메모리를 자동 선택)
		&pCubeIndexedBufferInterface,//반환된 인덱스버퍼를 받을 포인터
		nullptr//사용하지 않는 변수, nullptr
	);
	//인덱스버퍼에 인덱스를 저장하기 위해 잠금
	//Lock을 하면 다른 자원이 접근할 수 없게되고 인덱스를 저장할 메모리 포인터를 반환한다.
	void *pIndices;//인덱스를 저장할 메모리의 시작 주소를 받을 변수
	pCubeIndexedBufferInterface->Lock(0, sizeof(sCubeIndices), (void**)&pIndices, 0);
	memcpy(pIndices, sCubeIndices, sizeof(sCubeIndices));//인덱스버퍼에 인덱스를 메모리 복사
	pCubeIndexedBufferInterface->Unlock();//잠금을 해제
```



### 정점 버퍼 및 인덱스 버퍼 입력

```cpp
	
	//버텍스버퍼 입력
	//버텍스버퍼와 버텍스 포맷을 D3D 디바이스에 알려준다. 출력할 버텍스버퍼를 출력 스트림과 연결한다.
	pD3DFramework->pD3DDevice->SetStreamSource(
		0,//0으로 지정
		pCubeVertexBufferInterface, //버텍스버퍼
		0, //메모리시작 위치
		sizeof(SVertex2) //버텍스 크기
	);

	//인덱스버퍼 입력
	pD3DFramework->pD3DDevice->SetIndices(pCubeIndexedBufferInterface);
```



### 인덱스를 이용한 출력(DrawIndexedPrimitive)

- 정점 버퍼만 사용할 경우 DrawPrimitive() 함수를 사용했지만 인덱스 버퍼를 사용할 경우 DrawIndexedPrimitive() 함수를 사용한다.

```cpp
	pD3DFramework->pD3DDevice->DrawIndexedPrimitive(
		D3DPT_TRIANGLELIST,
		0,//정점버퍼의 시작인덱스 오프셋. 만약 1일 경우 인덱스 버퍼의 0값이 정점 버퍼의 1인덱스를 가리킨다.
		0,//정점버퍼의 최소인덱스. 만약 1일 경우 0번 정점은 사용되지 않는다.
		8,//그려질 정점의 개수, BaseVertexIndex + MinIndex 만큼 빼주면 된다.
		0,//인덱스버퍼의 시작인덱스 오프셋. 만약 1일 경우 1번 인덱스버퍼부터 그린다.
		12//그려질 도형(삼각형)의 개수
	);
```



## 컬링에 관한 설정

- 와이어프레임과 같이 컬링을 하지 않아야하는 경우

```cpp
	//렌더링하기 전 컬링을 하지 않도록 설정한다.
	pD3DFramework->pD3DDevice->SetRenderState(D3DRS_CULLMODE, D3DCULL_NONE);

	//렌더링 후 컬링을 다시 켜준다
	pD3DFramework->pD3DDevice->SetRenderState(D3DRS_CULLMODE, D3DCULL_CCW);
```



## SIMD(Single Instruction Multiple Data)

- 하나의 명령어로 여러 개의 값을 동시에 계산하는 방식
- 벡터 프로세서에서 많이 사용되는 방식으로, 비디오 게임 콘솔이나 그래픽 카드와 같은 멀티미디어 분야에 자주 사용된다.
- 인텔의 MMX(SSE2), 스트리밍 SIMD 확장(SSE), AMD의 3D 나우 등에서 이를 적용했다.
- 구현법
  - Intrinsic Function 이용
    - Intrinsic Function 
      - 모양은 함수와 같지만 어셈블리 명령어와 1:1로 매칭되어 좀 더 쉽게 SSE를 이용할 수 있게 해주는 내장 함수
  - 정렬된 메모리 사용(aligned memory)
    - 메모리의 시작점을 align한 숫자의 배수로 맞추고, 내부 원소의 크기를 align한 크기로 맞추는 것



## 도형

- D3DX에서 도형 제공
- 박스, 원기둥, 구, 주전자, 텍스트, 토러스, 폴리건



### 메쉬

- 정점들로 물체를 표현한 것
- 물체를 표현하기 위한 정점 집합
- LPD3DXMESH 타입으로 사용한다.
- 필요한 헤더와 라이브러리
  - D3dx9shape.h
  - D3dx9.lib



### 도형 생성 함수

- 메쉬를 생성하기 위한 함수



#### 박스

```cpp
HRESULT WINAPI 
    D3DXCreateBox(
        LPDIRECT3DDEVICE9   pDevice, //D3DDevice
        FLOAT               Width,
        FLOAT               Height,
        FLOAT               Depth,
        LPD3DXMESH*         ppMesh,
        LPD3DXBUFFER*       ppAdjacency//nullptr
    );
```

#### 구

```cpp
HRESULT WINAPI
    D3DXCreateSphere(
        LPDIRECT3DDEVICE9  pDevice, 
        FLOAT              Radius, //반지름
        UINT               Slices, //구를 나누는 선분의 개수
        UINT               Stacks, //선분으로 나누어진 영역을 90도 방향으로 나누는 개수
        LPD3DXMESH*        ppMesh,
        LPD3DXBUFFER*      ppAdjacency//nullptr
    );
```

#### 주전자

```cpp
HRESULT WINAPI
    D3DXCreateTeapot(
        LPDIRECT3DDEVICE9   pDevice,
        LPD3DXMESH*         ppMesh,
        LPD3DXBUFFER*       ppAdjacency
    );
```

#### 원기둥

```cpp
HRESULT WINAPI 
    D3DXCreateCylinder(
        LPDIRECT3DDEVICE9   pDevice,
        FLOAT               Radius1, //윗면 원의 반지름
        FLOAT               Radius2, //아랫면 원의 반지름
        FLOAT               Length, //높이
        UINT                Slices, //원을 나누는 개수
        UINT                Stacks, //원을 나눈뒤 생기는 원기둥의 면을 나누는 개수
        LPD3DXMESH*         ppMesh,
        LPD3DXBUFFER*       ppAdjacency);
```



### 도형 출력 함수

- LPD3DXMESH의 멤버 함수 DrawSubset()을 이용한다.
- 법선벡터를 이용하여 라이팅 계산을 하지 않을 경우 라이트를 끄지 않으면 검게 출력된다.
- 월드 변환이 적용되지 않았으므로 바로 출력하면 (0,0,0) 좌표에 출력된다.

```cpp
HRESULT __stdcall DrawSubset(
    DWORD AttribId //그리려는 서브셋 번호를 지정. 모든 삼각형을 그릴 경우 0.
);
```



## 지형 그리기

### 정점 만들기

- 좌상단부터 차례대로 정점을 만들어 저장한다.


<svg xmlns="http://www.w3.org/2000/svg" width="662" height="205.1041717529297" style="
        width:662px;
        height:205.1041717529297px;
        background: #FFF;
        fill: none;
">
        <svg xmlns="http://www.w3.org/2000/svg"><g><defs><pattern id=".6686650315937177" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="lightgray" stroke-width="0.5"/></pattern></defs><rect width="100%" height="100%" fill="url(#.6686650315937177)" stroke="lightgray" stroke-width="0.5"/></g></svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(74, 74, 74);" fill="rgba(74,74,74,1)"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(74, 74, 74);" fill="rgba(74,74,74,1)"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,10" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,10)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,10)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,66.66666666666666)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,66.66666666666666)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,66.66666666666666)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,66.66666666666666)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,66.66666666666666)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,66.67" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,66.66666666666666)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,66.66666666666666)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,123.33333333333331)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,123.33333333333331)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,123.33333333333331)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,123.33333333333331)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,123.33333333333331)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,123.33" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,123.33333333333331)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,123.33333333333331)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,180)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,180)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,180)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M244,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,244.0041279669761,180)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M302.67,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,302.66941864465076,180)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,420,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M361.33,180" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,180)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,361.33470932232535,180)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g/></g><g/><g/><!-- react-empty: 71346 --></svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="660" height="203.1041717529297" style="width:660px;height:203.1041717529297px;font-family:Asana-Math, Asana;background:#FFF;"></svg>
</svg>



### 인덱스 버퍼 생성

#### 삼각형 그리는 순서

- 정점들이 만드는 사각형의 좌상단 점을 공유하는 삼각형 두개를 그린다.
  - 우상단 정점을 공유하는 방식보다 로직이 좀 더 간단해진다.
  - 왼손 좌표계에서는 시계방향(CW)으로 삼각형을 그린다.

<svg xmlns="http://www.w3.org/2000/svg" width="662" height="277.1111145019531" style="
        width:662px;
        height:277.1111145019531px;
        background: #FFF;
        fill: none;
">
        <svg xmlns="http://www.w3.org/2000/svg"><g><defs><pattern id=".3072611075337681" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="lightgray" stroke-width="0.5"/></pattern></defs><rect width="100%" height="100%" fill="url(#.3072611075337681)" stroke="lightgray" stroke-width="0.5"/></g></svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="composite-shape"><path class="real" d=" M146.34,59.15 L236.53,59.15 L236.53,146.85 L146.34,146.85 Z" style="stroke-width: 1; stroke: rgb(74, 144, 226); fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M146.34,59.15 L236.53,146.85" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,144,226,1)" fill="rgba(74,144,226,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,236.53267973856214,146.84615384615384)" style="stroke: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,144,226,1)" fill="rgba(74,144,226,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,146.33660130718954,59.15384615384616)" style="stroke: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M236.53,59.15 L326.73,59.15 L326.73,146.85 L236.53,146.85 Z" style="stroke-width: 1; stroke: rgb(208, 2, 27); fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M236.53,59.15" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: none;"/><g stroke="rgba(208,2,27,1)" fill="rgba(208,2,27,1)" transform="matrix(1,0,0,1,236.53267973856214,59.15384615384616)" style="stroke: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(208,2,27,1)" fill="rgba(208,2,27,1)" transform="matrix(1,0,0,1,236.53267973856214,59.15384615384616)" style="stroke: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M146.34,146.85 L236.53,146.85 L236.53,234.54 L146.34,234.54 Z" style="stroke-width: 1; stroke: rgb(126, 211, 33); fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M146.34,146.85" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/><g stroke="rgba(126,211,33,1)" fill="rgba(126,211,33,1)" transform="matrix(1,0,0,1,146.33660130718954,146.84615384615384)" style="stroke: rgb(126, 211, 33); fill: rgb(126, 211, 33); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(126,211,33,1)" fill="rgba(126,211,33,1)" transform="matrix(1,0,0,1,146.33660130718954,146.84615384615384)" style="stroke: rgb(126, 211, 33); fill: rgb(126, 211, 33); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M236.53,146.85 L326.73,146.85 L326.73,234.54 L236.53,234.54 Z" style="stroke-width: 1; stroke: rgb(245, 166, 35); fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M236.53,146.85" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/><g stroke="rgba(245,166,35,1)" fill="rgba(245,166,35,1)" transform="matrix(1,0,0,1,236.53267973856214,146.84615384615384)" style="stroke: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(245,166,35,1)" fill="rgba(245,166,35,1)" transform="matrix(1,0,0,1,236.53267973856214,146.84615384615384)" style="stroke: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M161.37,132.23 L161.37,105" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/><g stroke="rgba(74,144,226,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,161.36928104575168,103)" style="stroke: rgb(74, 144, 226); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M161.37,88.38 L206.47,132.23" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M206.47,132.23 L161.37,132.23" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M221.5,117.62 L192.87,89.78" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/><g stroke="rgba(74,144,226,1)" transform="matrix(0.7170322749954404,0.6970399677313082,-0.6970399677313082,0.7170322749954404,191.43464052287584,88.38461538461539)" style="stroke: rgb(74, 144, 226); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M221.5,73.77 L176.4,73.77" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M221.5,117.62 L221.5,73.77" style="stroke: rgb(74, 144, 226); stroke-width: 1; fill: none;"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M249.87,135.46 L249.87,108.23" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(208,2,27,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,249.86928104575168,106.23076923076923)" style="stroke: rgb(208, 2, 27); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M249.87,91.62 L294.97,135.46" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: rgb(208, 2, 27);"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M294.97,135.46 L249.87,135.46" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: rgb(208, 2, 27);"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M310,120.85 L281.37,93.01" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(208,2,27,1)" transform="matrix(0.7170322749954404,0.6970399677313082,-0.6970399677313082,0.7170322749954404,279.93464052287584,91.61538461538461)" style="stroke: rgb(208, 2, 27); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M310,77 L264.9,77" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: rgb(208, 2, 27);"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M310,120.85 L310,77" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: rgb(208, 2, 27);"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M160,215.46 L160,188.23" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/><g stroke="rgba(126,211,33,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,160,186.23076923076923)" style="stroke: rgb(126, 211, 33); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M160,171.62 L205.1,215.46" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M205.1,215.46 L160,215.46" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M220.13,200.85 L191.5,173.01" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/><g stroke="rgba(126,211,33,1)" transform="matrix(0.7170322749954404,0.6970399677313082,-0.6970399677313082,0.7170322749954404,190.06535947712416,171.6153846153846)" style="stroke: rgb(126, 211, 33); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M220.13,157 L175.03,157" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M220.13,200.85 L220.13,157" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M249.87,215.46 L249.87,188.23" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/><g stroke="rgba(245,166,35,1)" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,249.8692810457517,186.23076923076923)" style="stroke: rgb(245, 166, 35); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M249.87,171.62 L294.97,215.46" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M294.97,215.46 L249.87,215.46" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/></g></g><g class="grouped-shape"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M310,200.85 L281.37,173.01" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/><g stroke="rgba(245,166,35,1)" transform="matrix(0.7170322749954404,0.6970399677313082,-0.6970399677313082,0.7170322749954404,279.93464052287584,171.6153846153846)" style="stroke: rgb(245, 166, 35); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M310,157 L264.9,157" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M310,200.85 L310,157" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M326.73,59.15" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" style="stroke: rgb(0, 0, 0); stroke-width: 1;" transform="matrix(1,0,0,1,326.7287581699346,59.15384615384616)"><circle cx="0" cy="0" r="3.35"/></g><g stroke="#000" transform="matrix(1,0,0,1,326.7287581699346,59.15384615384616)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M146.34,234.54" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(1,0,0,1,146.33660130718954,234.53846153846155)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M236.53,59.15 L326.73,146.85" style="stroke: rgb(208, 2, 27); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M146.34,146.85 L236.53,234.54" style="stroke: rgb(126, 211, 33); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M236.53,146.85 L326.73,234.54" style="stroke: rgb(245, 166, 35); stroke-width: 1; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M326.73,234.54" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(1,0,0,1,326.7287581699346,234.53846153846155)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="#000" transform="matrix(1,0,0,1,326.7287581699346,234.53846153846155)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M236.53,234.54" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(1,0,0,1,236.53267973856214,234.53846153846155)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="#000" transform="matrix(1,0,0,1,236.53267973856214,234.53846153846155)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M326.73,146.85" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none;"/><g stroke="#000" transform="matrix(1,0,0,1,326.7287581699346,146.84615384615384)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="#000" transform="matrix(1,0,0,1,326.7287581699346,146.84615384615384)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g/></g><g/><g/><!-- react-empty: 314 --></svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="660" height="275.1111145019531" style="width:660px;height:275.1111145019531px;font-family:Asana-Math, Asana;background:#FFF;"><g><g><text x="141.20834350585938" y="37.55555725097656" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">0</text></g></g><g><g><text x="231.40277099609375" y="37.55555725097656" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1</text></g></g><g><g><text x="332.125" y="37.55555725097656" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="132.125" y="137.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="232.15277099609375" y="138.39584350585938" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="332.125" y="136.9375" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="141.20834350585938" y="239.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">6</text></g></g><g><g><text x="231.40277099609375" y="239.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">7</text></g></g><g><g><text x="332.125" y="239.55557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">8</text></g></g><g><g><text x="171.9930419921875" y="108" style="white-space:pre;stroke:none;fill:rgba(74, 144, 226, 0.5);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgba(74, 144, 226, 0.5);">0</text></g></g><g><g><text x="201.9930419921875" y="78" style="white-space:pre;stroke:none;fill:rgba(74, 144, 226, 0.5);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgba(74, 144, 226, 0.5);">1</text></g></g><g><g><text x="261.9930419921875" y="112" style="white-space:pre;stroke:none;fill:rgb(208, 2, 27);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(208, 2, 27);">2</text></g></g><g><g><text x="291.9930419921875" y="82" style="white-space:pre;stroke:none;fill:rgb(208, 2, 27);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(208, 2, 27);">3</text></g></g><g><g><text x="170.6180419921875" y="191.22918701171875" style="white-space:pre;stroke:none;fill:rgb(126, 211, 33);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(126, 211, 33);">4</text></g></g><g><g><text x="201.9930419921875" y="162" style="white-space:pre;stroke:none;fill:rgb(126, 211, 33);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(126, 211, 33);">5</text></g></g><g><g><text x="261.9930419921875" y="192" style="white-space:pre;stroke:none;fill:rgb(245, 166, 35);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(245, 166, 35);">6</text></g></g><g><g><text x="291.9930419921875" y="162" style="white-space:pre;stroke:none;fill:rgb(245, 166, 35);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(245, 166, 35);">7</text></g></g><g><g><text x="431.732666015625" y="75.33334350585938" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">0 : (0, 4, 3)</text></g><g><text x="431.732666015625" y="93.11111450195312" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1 : (0, 1, 4)</text></g><g><text x="431.732666015625" y="110.88888549804688" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2 : (1, 5, 4)</text></g><g><text x="431.732666015625" y="128.66668701171875" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3 : (1, 2, 5)</text></g><g><text x="431.732666015625" y="146.4444580078125" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4 : (3, 7, 6)</text></g><g><text x="431.732666015625" y="164.22222900390625" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5 : (3, 4, 7)</text></g><g><text x="431.732666015625" y="182" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">6 : (4, 8, 7)</text></g><g><text x="431.732666015625" y="199.77777099609375" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">7 : (4, 5, 8)</text></g></g><g><g><text x="42.15972900390625" y="10.555557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">사각형의 좌상단 정점을 공유하는 삼각형을 그린다는 개념으로 인덱스 버퍼를 생성한다.</text></g></g></svg>
</svg>



#### 버텍스 개수로 삼각형 개수 구하기


<svg xmlns="http://www.w3.org/2000/svg" width="662" height="490.1111145019531" style="
        width:662px;
        height:490.1111145019531px;
        background: #FFF;
        fill: none;
">
        <svg xmlns="http://www.w3.org/2000/svg"><g><defs><pattern id=".697512583826374" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="lightgray" stroke-width="0.5"/></pattern></defs><rect width="100%" height="100%" fill="url(#.697512583826374)" stroke="lightgray" stroke-width="0.5"/></g></svg>
        <svg xmlns="http://www.w3.org/2000/svg" class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M54,70 L124,140 L54,140 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(74, 144, 226); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M127,69 L197,139 L127,139 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(248, 231, 28); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M126,140 L56,70 L126,70 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(74, 144, 226); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M199,70 L269,140 L199,140 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(245, 166, 35); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M198.8,140 L128.8,70 L198.8,70 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(248, 231, 28); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M270,140 L200,70 L270,70 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(245, 166, 35); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M54,140 L124,210 L54,210 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(74, 144, 226); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M127,139 L197,209 L127,209 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(248, 231, 28); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M126,210 L56,140 L126,140 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(74, 144, 226); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M199,140 L269,210 L199,210 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(245, 166, 35); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M198.8,210 L128.8,140 L198.8,140 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(248, 231, 28); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M270,210 L200,140 L270,140 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(245, 166, 35); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M55,211 L125,281 L55,281 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(74, 144, 226); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M128,210 L198,280 L128,280 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(248, 231, 28); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M127,281 L57,211 L127,211 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(74, 144, 226); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M200,211 L270,281 L200,281 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(245, 166, 35); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M199.8,281 L129.8,211 L199.8,211 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(248, 231, 28); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M270,281 L200,211 L270,211 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgb(245, 166, 35); stroke-dasharray: 1.125, 3.35;"/></g></g><g class="composite-shape"><path class="real" d=" M53.81,70 L125.81,70 L125.81,140 L53.81,140 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M55.49,71.64 L125.81,140" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,125.80667354661146,140)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,53.80804953560352,70)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M53.81,140" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,53.808049535603516,140)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,53.808049535603516,140)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M125.81,70 L197.81,70 L197.81,140 L125.81,140 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M127.49,71.64 L197.81,140" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,197.80529755761944,140)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,125.80667354661148,70)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M197.81,70 L269.8,70 L269.8,140 L197.81,140 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M269.8,70" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,269.8039215686274,70)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,269.8039215686274,70)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M199.49,71.64 L269.8,140" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,269.8039215686274,140)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,197.80529755761944,70)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M54,210" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,54.004127966976114,210)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,54.004127966976114,210)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M126,140 L198,140 L198,210 L126,210 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M126,140 L198,210" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,198.00137598899204,210)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,126.00275197798408,140)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M198,140 L270,140 L270,210 L198,210 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M198,140 L270,210" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,270,210)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,198.00137598899204,140)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M128,280" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,128.00275197798408,280)" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(74, 74, 74);" fill="rgba(74,74,74,1)"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(1,0,0,1,128.00275197798408,280)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M54,280" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: none;"/><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,54.004127966976114,280)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" transform="matrix(1,0,0,1,54.004127966976114,280)" style="stroke: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M126,210 L198,210 L198,280 L126,280 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M126,210 L198,280" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,198.00137598899204,280)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,126.00275197798408,210)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M198,210 L270,210 L270,280 L198,280 Z" style="stroke-width: 1; stroke: rgb(74, 74, 74); fill: none; stroke-dasharray: 1.125, 3.35;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="1.125 3.35" d="  M198,210 L270,280" style="stroke: rgb(74, 74, 74); stroke-width: 1; fill: rgb(208, 2, 27);"/><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,270,280)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g><g stroke="rgba(74,74,74,1)" fill="rgba(74,74,74,1)" transform="matrix(0.7170322749954403,0.6970399677313083,-0.6970399677313083,0.7170322749954403,198.00137598899204,210)" style="stroke: rgb(74, 74, 74); fill: rgb(74, 74, 74); stroke-width: 1;"><circle cx="0" cy="0" r="3.35"/></g></g><g class="composite-shape"><path class="real" d=" M30,127 C30,123.13 33.13,120 37,120 L293,120 C296.87,120 300,123.13 300,127 L300,153 C300,156.87 296.87,160 293,160 L37,160 C33.13,160 30,156.87 30,153 Z" style="stroke-width: 1; stroke: rgba(0, 0, 0, 0); fill: rgba(248, 231, 28, 0.15); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M30,57 C30,53.13 33.13,50 37,50 L293,50 C296.87,50 300,53.13 300,57 L300,83 C300,86.87 296.87,90 293,90 L37,90 C33.13,90 30,86.87 30,83 Z" style="stroke-width: 1; stroke: rgba(0, 0, 0, 0); fill: rgba(248, 231, 28, 0.15); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M30,197 C30,193.13 33.13,190 37,190 L293,190 C296.87,190 300,193.13 300,197 L300,223 C300,226.87 296.87,230 293,230 L37,230 C33.13,230 30,226.87 30,223 Z" style="stroke-width: 1; stroke: rgba(0, 0, 0, 0); fill: rgba(248, 231, 28, 0.15); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M30,267 C30,263.13 33.13,260 37,260 L293,260 C296.87,260 300,263.13 300,267 L300,293 C300,296.87 296.87,300 293,300 L37,300 C33.13,300 30,296.87 30,293 Z" style="stroke-width: 1; stroke: rgba(0, 0, 0, 0); fill: rgba(248, 231, 28, 0.15); stroke-dasharray: 1.125, 3.35;"/></g><g/></g><g/><g/><!-- react-empty: 23782 --></svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="660" height="488.1111145019531" style="width:660px;height:488.1111145019531px;font-family:Asana-Math, Asana;background:#FFF;"><g><g><text x="322.07989501953125" y="54.666656494140625" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">정점 첫 번째 행</text></g><g><text x="322.07989501953125" y="72.44442749023438" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">두 번째 행부터 삼각형 그리므로 무시</text></g></g><g><g><text x="322.32989501953125" y="120.27780151367188" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">정점 두 번째 행</text></g><g><text x="322.32989501953125" y="138.05557250976562" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">가장 좌측의 정점은 삼각형 개수에 영향을 주지 않는다.</text></g><g><text x="322.32989501953125" y="155.83334350585938" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">그외의 정점을 삼각형을 두개씩 그린다..</text></g></g><g><g><text x="322.07989501953125" y="190.66665649414062" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">정점 세 번째 행</text></g><g><text x="322.07989501953125" y="208.44442749023438" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">두 번재 행과 같다..</text></g></g><g><g><text x="322.07989501953125" y="264.6666564941406" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">정점 네 번째 행</text></g><g><text x="322.07989501953125" y="282.4444274902344" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">두 번재 행과 같다..</text></g></g><g><g><g><g><g><g><text x="48.15972900390625" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">삼각형</text><g style="transform:matrix(1,0,0,1,99.15972900390625,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="103.38888549804688" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">개수</text></g></g></g><g><g><g style="transform:matrix(1,0,0,1,153.763916015625,339.2778015136719);"><path d="M604 347L604 406L65 406L65 347ZM604 134L604 193L65 193L65 134Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g><g style="transform:matrix(1,0,0,1,181.576416015625,339.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g><text x="187.22222900390625" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">정점</text><g style="transform:matrix(1,0,0,1,221.22222900390625,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="225.451416015625" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">행</text><g style="transform:matrix(1,0,0,1,242.451416015625,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="246.6875" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">개수</text></g><g style="transform:matrix(1,0,0,1,284.09027099609375,339.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,297.77777099609375,339.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,306.263916015625,339.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,315.3055419921875,339.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,330.0625,339.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g><text x="335.70831298828125" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">점점</text><g style="transform:matrix(1,0,0,1,369.70831298828125,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="373.9375" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">한줄당</text><g style="transform:matrix(1,0,0,1,424.9375,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="429.17364501953125" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">그릴</text><g style="transform:matrix(1,0,0,1,463.17364501953125,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="467.40277099609375" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">수</text><g style="transform:matrix(1,0,0,1,484.40277099609375,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="488.638916015625" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">있는</text><g style="transform:matrix(1,0,0,1,522.638916015625,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="526.8680419921875" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">삼각형</text><g style="transform:matrix(1,0,0,1,577.8680419921875,339.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="582.1041870117188" y="339.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">개수</text></g><g style="transform:matrix(1,0,0,1,616.1111450195312,339.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g></g></g><g><g><g style="transform:matrix(1,0,0,1,153.763916015625,363.2778015136719);"><path d="M604 347L604 406L65 406L65 347ZM604 134L604 193L65 193L65 134Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g><g style="transform:matrix(1,0,0,1,243.29168701171875,363.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g><text x="248.9375" y="363.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">정점</text><g style="transform:matrix(1,0,0,1,282.9375,363.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="287.16668701171875" y="363.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">행</text><g style="transform:matrix(1,0,0,1,304.16668701171875,363.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="308.40277099609375" y="363.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">개수</text></g><g style="transform:matrix(1,0,0,1,345.8055419921875,363.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,359.4930419921875,363.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,367.97918701171875,363.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,377.02081298828125,363.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,391.77777099609375,363.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,397.42364501953125,363.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g><text x="403.0694580078125" y="363.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">정점</text><g style="transform:matrix(1,0,0,1,437.0694580078125,363.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="441.29864501953125" y="363.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">열</text><g style="transform:matrix(1,0,0,1,458.29864501953125,363.2778015136719);"><path d="" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><text x="462.53472900390625" y="363.8259498437246" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:17px;font-family:Asana-Math, Asana;font-weight:400;font-style:normal;dominant-baseline:auto;text-decoration:none solid rgb(0, 0, 0);">개수</text></g><g style="transform:matrix(1,0,0,1,499.9375,363.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,513.625,363.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,522.1111450195312,363.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,531.1527709960938,363.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,545.9097290039062,363.2778015136719);"><path d="M16 23L16 -3C203 -3 203 0 239 0C275 0 275 -3 468 -3L468 82C353 77 307 81 122 77L304 270C401 373 431 428 431 503C431 618 353 689 226 689C154 689 105 669 56 619L39 483L68 483L81 529C97 587 133 612 200 612C286 612 341 558 341 473C341 398 299 324 186 204Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,554.3958129882812,363.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g></g></g><g><g><g style="transform:matrix(1,0,0,1,153.763916015625,387.2778015136719);"><path d="M604 347L604 406L65 406L65 347ZM604 134L604 193L65 193L65 134Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g><g style="transform:matrix(1,0,0,1,203.3125,387.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,208.95831298828125,387.2778015136719);"><path d="M310 96L239 624C237 646 241 661 281 662L323 664L323 692L282 691C245 690 217 689 199 689C181 689 153 690 116 691L75 692L75 664L100 662C144 659 152 651 159 614L247 -8L296 -8L674 611C699 651 707 658 736 662L754 664L754 692L724 691C697 690 674 689 658 689C648 689 621 690 580 691L534 692L534 664L560 662C598 659 617 649 617 630C617 619 613 608 601 588ZM1049 111L1025 94C972 56 924 36 888 36C841 36 812 73 812 133C812 158 815 185 820 214C837 218 946 248 971 259C1056 296 1095 342 1095 404C1095 451 1061 482 1011 482C943 496 833 423 796 349C766 299 736 180 736 113C736 35 780 -11 852 -11C909 -11 965 17 1057 92ZM834 274C851 343 871 386 900 412C918 428 949 440 973 440C1002 440 1021 420 1021 388C1021 344 986 297 934 272C906 258 870 247 825 237ZM1477 365C1480 403 1485 435 1493 476C1482 481 1478 482 1473 482C1442 482 1411 458 1375 407C1336 351 1297 291 1281 256L1313 408C1317 425 1319 438 1319 450C1319 470 1311 482 1296 482C1275 482 1237 461 1163 408L1135 388L1142 368L1174 389C1202 407 1213 412 1222 412C1232 412 1239 403 1239 390C1239 332 1196 126 1156 -2L1166 -9C1181 -4 1197 -1 1220 4L1233 6L1259 126C1277 209 1300 262 1344 319C1378 363 1405 384 1427 384C1442 384 1452 379 1463 365ZM1622 390L1566 107C1565 99 1553 61 1553 31C1553 6 1564 -9 1583 -9C1618 -9 1653 11 1731 74L1762 99L1752 117L1707 86C1678 66 1658 56 1647 56C1638 56 1633 64 1633 76C1633 102 1647 183 1676 328L1689 390L1796 390L1807 440C1769 436 1735 434 1697 434C1713 528 1724 577 1742 631L1731 646C1711 634 1684 622 1653 610L1628 440C1584 419 1558 408 1540 403L1538 390ZM2157 111L2133 94C2080 56 2032 36 1996 36C1949 36 1920 73 1920 133C1920 158 1923 185 1928 214C1945 218 2054 248 2079 259C2164 296 2203 342 2203 404C2203 451 2169 482 2119 482C2051 496 1941 423 1904 349C1874 299 1844 180 1844 113C1844 35 1888 -11 1960 -11C2017 -11 2073 17 2165 92ZM1942 274C1959 343 1979 386 2008 412C2026 428 2057 440 2081 440C2110 440 2129 420 2129 388C2129 344 2094 297 2042 272C2014 258 1978 247 1933 237ZM2226 1C2241 -7 2257 -11 2269 -11C2302 -11 2341 18 2372 65L2448 182L2459 113C2472 28 2495 -11 2531 -11C2553 -11 2585 6 2617 35L2666 79L2657 98C2621 68 2596 53 2580 53C2565 53 2552 63 2542 83C2533 102 2522 139 2517 168L2499 269L2534 318C2581 383 2608 406 2639 406C2655 406 2667 398 2672 383L2686 387L2701 472C2689 479 2680 482 2671 482C2631 482 2591 446 2529 354L2492 299L2486 347C2474 446 2447 482 2388 482C2362 482 2340 474 2331 461L2273 378L2290 368C2320 402 2340 416 2359 416C2392 416 2414 375 2431 277L2442 215L2402 153C2359 86 2325 54 2297 54C2282 54 2271 58 2269 63L2258 91L2238 88C2238 53 2230 27 2226 1ZM2821 664L2877 662C2901 661 2912 653 2912 635C2912 621 2908 589 2903 559L2828 125C2812 34 2810 32 2770 28L2729 25L2725 -3L2767 -2C2814 0 2833 0 2857 0L2954 -3L2980 -3L2983 25L2934 28C2907 30 2898 38 2898 58C2898 67 2899 76 2902 93L3003 648C3032 654 3052 656 3079 656C3166 656 3212 617 3212 543C3212 448 3134 378 3030 378L2986 378L2983 367C3117 172 3148 124 3223 -3L3308 0C3309 0 3323 -1 3342 -3L3355 -3L3355 24C3315 29 3304 37 3275 79L3091 354C3146 364 3175 376 3211 402C3269 444 3300 499 3300 560C3300 646 3236 693 3125 691L2824 691ZM3399 152C3399 46 3444 -11 3527 -11C3582 -11 3642 15 3687 57C3749 116 3793 230 3793 331C3793 425 3743 482 3660 482C3556 482 3399 382 3399 152ZM3623 444C3684 444 3717 399 3717 315C3717 219 3686 113 3642 60C3624 39 3598 27 3567 27C3509 27 3475 72 3475 151C3475 264 3514 387 3563 427C3576 438 3599 444 3623 444ZM3992 420C4013 420 4026 421 4051 424C3996 350 3897 266 3897 126C3897 44 3932 -11 3985 -11C4049 -11 4101 44 4175 187C4166 143 4163 118 4163 95C4163 32 4192 -11 4237 -11C4371 -11 4524 238 4524 384C4524 441 4498 482 4462 482C4449 482 4437 478 4429 470L4379 423L4390 404C4399 410 4408 413 4417 413C4444 413 4460 390 4460 350C4460 205 4363 39 4278 39C4249 39 4228 79 4228 134C4228 181 4237 247 4249 290L4301 474L4294 482L4220 460L4191 311C4179 249 4165 209 4136 155C4096 80 4058 39 4028 39C3993 39 3970 78 3970 136C3970 255 4011 352 4110 464L4100 482C4080 473 4067 470 4039 470C4011 470 3969 472 3940 475L3928 476C3922 477 3917 477 3916 477C3904 477 3895 475 3884 470C3870 443 3859 407 3846 352L3868 352L3885 394C3892 411 3912 422 3936 422C3970 422 3953 420 3992 420ZM4591 284C4591 90 4698 -18 4889 -18C4985 -18 5056 5 5146 67L5156 103L5146 110C5052 53 5000 35 4922 35C4765 35 4679 131 4679 309C4679 447 4736 653 4964 653C5035 653 5087 639 5143 603L5143 519L5170 519C5175 576 5183 619 5197 665C5121 694 5064 706 5002 706C4822 706 4591 578 4591 284ZM5250 152C5250 46 5295 -11 5378 -11C5433 -11 5493 15 5538 57C5600 116 5644 230 5644 331C5644 425 5594 482 5511 482C5407 482 5250 382 5250 152ZM5474 444C5535 444 5568 399 5568 315C5568 219 5537 113 5493 60C5475 39 5449 27 5418 27C5360 27 5326 72 5326 151C5326 264 5365 387 5414 427C5427 438 5450 444 5474 444ZM6168 473L6161 482L6093 465L6083 414C6068 336 6043 268 6012 221C5953 130 5875 59 5835 59C5827 59 5822 68 5822 85C5822 99 5824 112 5829 137L5886 408C5889 424 5891 438 5891 451C5891 470 5882 482 5868 482C5848 482 5810 461 5736 408L5708 388L5715 368L5747 389C5775 407 5786 412 5795 412C5804 412 5812 403 5812 392C5812 388 5811 378 5810 374L5747 77C5745 68 5743 44 5743 30C5743 7 5758 -11 5778 -11C5841 -11 5962 101 6046 239L6009 97C6002 73 5998 46 5998 31C5998 6 6009 -9 6028 -9C6054 -9 6090 12 6188 85L6178 103L6152 86C6128 70 6102 59 6091 59C6083 59 6078 66 6078 76C6078 112 6153 416 6168 473ZM6255 388L6262 368L6294 389C6331 412 6334 414 6341 414C6352 414 6359 404 6359 389C6359 338 6318 145 6277 2L6284 -9C6309 -2 6332 4 6354 8C6373 134 6394 199 6440 268C6494 352 6569 414 6614 414C6625 414 6631 405 6631 390C6631 372 6628 351 6620 319L6568 107C6559 70 6555 47 6555 31C6555 6 6566 -9 6585 -9C6611 -9 6647 12 6745 85L6735 103L6709 86C6680 67 6658 56 6648 56C6641 56 6635 65 6635 76C6635 81 6636 92 6637 96L6703 372C6710 401 6714 429 6714 446C6714 469 6703 482 6683 482C6641 482 6572 444 6513 389C6475 354 6447 320 6395 247L6433 408C6437 426 6439 438 6439 449C6439 470 6431 482 6416 482C6395 482 6356 460 6283 408ZM6911 390L6855 107C6854 99 6842 61 6842 31C6842 6 6853 -9 6872 -9C6907 -9 6942 11 7020 74L7051 99L7041 117L6996 86C6967 66 6947 56 6936 56C6927 56 6922 64 6922 76C6922 102 6936 183 6965 328L6978 390L7085 390L7096 440C7058 436 7024 434 6986 434C7002 528 7013 577 7031 631L7020 646C7000 634 6973 622 6942 610L6917 440C6873 419 6847 408 6829 403L6827 390Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,333.36114501953125,387.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,347.04864501953125,387.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,355.53472900390625,387.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,364.576416015625,387.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,379.33331298828125,387.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,384.97918701171875,387.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,390.625,387.2778015136719);"><path d="M310 96L239 624C237 646 241 661 281 662L323 664L323 692L282 691C245 690 217 689 199 689C181 689 153 690 116 691L75 692L75 664L100 662C144 659 152 651 159 614L247 -8L296 -8L674 611C699 651 707 658 736 662L754 664L754 692L724 691C697 690 674 689 658 689C648 689 621 690 580 691L534 692L534 664L560 662C598 659 617 649 617 630C617 619 613 608 601 588ZM1049 111L1025 94C972 56 924 36 888 36C841 36 812 73 812 133C812 158 815 185 820 214C837 218 946 248 971 259C1056 296 1095 342 1095 404C1095 451 1061 482 1011 482C943 496 833 423 796 349C766 299 736 180 736 113C736 35 780 -11 852 -11C909 -11 965 17 1057 92ZM834 274C851 343 871 386 900 412C918 428 949 440 973 440C1002 440 1021 420 1021 388C1021 344 986 297 934 272C906 258 870 247 825 237ZM1477 365C1480 403 1485 435 1493 476C1482 481 1478 482 1473 482C1442 482 1411 458 1375 407C1336 351 1297 291 1281 256L1313 408C1317 425 1319 438 1319 450C1319 470 1311 482 1296 482C1275 482 1237 461 1163 408L1135 388L1142 368L1174 389C1202 407 1213 412 1222 412C1232 412 1239 403 1239 390C1239 332 1196 126 1156 -2L1166 -9C1181 -4 1197 -1 1220 4L1233 6L1259 126C1277 209 1300 262 1344 319C1378 363 1405 384 1427 384C1442 384 1452 379 1463 365ZM1622 390L1566 107C1565 99 1553 61 1553 31C1553 6 1564 -9 1583 -9C1618 -9 1653 11 1731 74L1762 99L1752 117L1707 86C1678 66 1658 56 1647 56C1638 56 1633 64 1633 76C1633 102 1647 183 1676 328L1689 390L1796 390L1807 440C1769 436 1735 434 1697 434C1713 528 1724 577 1742 631L1731 646C1711 634 1684 622 1653 610L1628 440C1584 419 1558 408 1540 403L1538 390ZM2157 111L2133 94C2080 56 2032 36 1996 36C1949 36 1920 73 1920 133C1920 158 1923 185 1928 214C1945 218 2054 248 2079 259C2164 296 2203 342 2203 404C2203 451 2169 482 2119 482C2051 496 1941 423 1904 349C1874 299 1844 180 1844 113C1844 35 1888 -11 1960 -11C2017 -11 2073 17 2165 92ZM1942 274C1959 343 1979 386 2008 412C2026 428 2057 440 2081 440C2110 440 2129 420 2129 388C2129 344 2094 297 2042 272C2014 258 1978 247 1933 237ZM2226 1C2241 -7 2257 -11 2269 -11C2302 -11 2341 18 2372 65L2448 182L2459 113C2472 28 2495 -11 2531 -11C2553 -11 2585 6 2617 35L2666 79L2657 98C2621 68 2596 53 2580 53C2565 53 2552 63 2542 83C2533 102 2522 139 2517 168L2499 269L2534 318C2581 383 2608 406 2639 406C2655 406 2667 398 2672 383L2686 387L2701 472C2689 479 2680 482 2671 482C2631 482 2591 446 2529 354L2492 299L2486 347C2474 446 2447 482 2388 482C2362 482 2340 474 2331 461L2273 378L2290 368C2320 402 2340 416 2359 416C2392 416 2414 375 2431 277L2442 215L2402 153C2359 86 2325 54 2297 54C2282 54 2271 58 2269 63L2258 91L2238 88C2238 53 2230 27 2226 1ZM2761 284C2761 90 2868 -18 3059 -18C3155 -18 3226 5 3316 67L3326 103L3316 110C3222 53 3170 35 3092 35C2935 35 2849 131 2849 309C2849 447 2906 653 3134 653C3205 653 3257 639 3313 603L3313 519L3340 519C3345 576 3353 619 3367 665C3291 694 3234 706 3172 706C2992 706 2761 578 2761 284ZM3420 152C3420 46 3465 -11 3548 -11C3603 -11 3663 15 3708 57C3770 116 3814 230 3814 331C3814 425 3764 482 3681 482C3577 482 3420 382 3420 152ZM3644 444C3705 444 3738 399 3738 315C3738 219 3707 113 3663 60C3645 39 3619 27 3588 27C3530 27 3496 72 3496 151C3496 264 3535 387 3584 427C3597 438 3620 444 3644 444ZM4097 722L4085 733C4033 707 3997 698 3925 691L3921 670L3969 670C3993 670 4003 663 4003 648C4003 645 4003 640 4000 622C3989 567 3916 182 3901 132C3888 82 3882 52 3882 31C3882 6 3893 -9 3912 -9C3938 -9 3974 12 4072 85L4062 103L4036 86C4007 67 3985 56 3975 56C3968 56 3962 66 3962 76C3962 82 3963 89 3966 104ZM4615 473L4608 482L4540 465L4530 414C4515 336 4490 268 4459 221C4400 130 4322 59 4282 59C4274 59 4269 68 4269 85C4269 99 4271 112 4276 137L4333 408C4336 424 4338 438 4338 451C4338 470 4329 482 4315 482C4295 482 4257 461 4183 408L4155 388L4162 368L4194 389C4222 407 4233 412 4242 412C4251 412 4259 403 4259 392C4259 388 4258 378 4257 374L4194 77C4192 68 4190 44 4190 30C4190 7 4205 -11 4225 -11C4288 -11 4409 101 4493 239L4456 97C4449 73 4445 46 4445 31C4445 6 4456 -9 4475 -9C4501 -9 4537 12 4635 85L4625 103L4599 86C4575 70 4549 59 4538 59C4530 59 4525 66 4525 76C4525 112 4600 416 4615 473ZM5408 103L5382 86C5353 67 5331 56 5321 56C5314 56 5308 65 5308 76C5308 86 5310 95 5315 116L5390 413C5394 430 5397 446 5397 454C5397 471 5387 482 5371 482C5342 482 5304 464 5243 421C5180 376 5145 341 5096 272L5126 409C5130 429 5133 444 5133 451C5133 470 5123 482 5107 482C5077 482 5031 460 4976 418C4932 384 4912 363 4847 275L4880 408C4884 424 4886 439 4886 451C4886 470 4877 482 4863 482C4842 482 4804 461 4730 408L4702 388L4709 368C4746 391 4781 414 4788 414C4799 414 4806 404 4806 389C4806 338 4765 145 4724 2L4727 -9L4795 6L4817 108C4841 219 4868 278 4923 338C4965 384 5010 414 5038 414C5045 414 5049 406 5049 393C5049 358 5027 244 4986 69L4970 2L4975 -9L5044 6L5065 113C5081 194 5115 269 5159 318C5214 379 5264 414 5296 414C5304 414 5309 405 5309 389C5309 365 5306 351 5284 264C5244 105 5228 84 5228 31C5228 6 5239 -9 5258 -9C5284 -9 5320 12 5418 85ZM5479 388L5486 368L5518 389C5555 412 5558 414 5565 414C5576 414 5583 404 5583 389C5583 338 5542 145 5501 2L5508 -9C5533 -2 5556 4 5578 8C5597 134 5618 199 5664 268C5718 352 5793 414 5838 414C5849 414 5855 405 5855 390C5855 372 5852 351 5844 319L5792 107C5783 70 5779 47 5779 31C5779 6 5790 -9 5809 -9C5835 -9 5871 12 5969 85L5959 103L5933 86C5904 67 5882 56 5872 56C5865 56 5859 65 5859 76C5859 81 5860 92 5861 96L5927 372C5934 401 5938 429 5938 446C5938 469 5927 482 5907 482C5865 482 5796 444 5737 389C5699 354 5671 320 5619 247L5657 408C5661 426 5663 438 5663 449C5663 470 5655 482 5640 482C5619 482 5580 460 5507 408ZM6055 284C6055 90 6162 -18 6353 -18C6449 -18 6520 5 6610 67L6620 103L6610 110C6516 53 6464 35 6386 35C6229 35 6143 131 6143 309C6143 447 6200 653 6428 653C6499 653 6551 639 6607 603L6607 519L6634 519C6639 576 6647 619 6661 665C6585 694 6528 706 6466 706C6286 706 6055 578 6055 284ZM6714 152C6714 46 6759 -11 6842 -11C6897 -11 6957 15 7002 57C7064 116 7108 230 7108 331C7108 425 7058 482 6975 482C6871 482 6714 382 6714 152ZM6938 444C6999 444 7032 399 7032 315C7032 219 7001 113 6957 60C6939 39 6913 27 6882 27C6824 27 6790 72 6790 151C6790 264 6829 387 6878 427C6891 438 6914 444 6938 444ZM7632 473L7625 482L7557 465L7547 414C7532 336 7507 268 7476 221C7417 130 7339 59 7299 59C7291 59 7286 68 7286 85C7286 99 7288 112 7293 137L7350 408C7353 424 7355 438 7355 451C7355 470 7346 482 7332 482C7312 482 7274 461 7200 408L7172 388L7179 368L7211 389C7239 407 7250 412 7259 412C7268 412 7276 403 7276 392C7276 388 7275 378 7274 374L7211 77C7209 68 7207 44 7207 30C7207 7 7222 -11 7242 -11C7305 -11 7426 101 7510 239L7473 97C7466 73 7462 46 7462 31C7462 6 7473 -9 7492 -9C7518 -9 7554 12 7652 85L7642 103L7616 86C7592 70 7566 59 7555 59C7547 59 7542 66 7542 76C7542 112 7617 416 7632 473ZM7719 388L7726 368L7758 389C7795 412 7798 414 7805 414C7816 414 7823 404 7823 389C7823 338 7782 145 7741 2L7748 -9C7773 -2 7796 4 7818 8C7837 134 7858 199 7904 268C7958 352 8033 414 8078 414C8089 414 8095 405 8095 390C8095 372 8092 351 8084 319L8032 107C8023 70 8019 47 8019 31C8019 6 8030 -9 8049 -9C8075 -9 8111 12 8209 85L8199 103L8173 86C8144 67 8122 56 8112 56C8105 56 8099 65 8099 76C8099 81 8100 92 8101 96L8167 372C8174 401 8178 429 8178 446C8178 469 8167 482 8147 482C8105 482 8036 444 7977 389C7939 354 7911 320 7859 247L7897 408C7901 426 7903 438 7903 449C7903 470 7895 482 7880 482C7859 482 7820 460 7747 408ZM8375 390L8319 107C8318 99 8306 61 8306 31C8306 6 8317 -9 8336 -9C8371 -9 8406 11 8484 74L8515 99L8505 117L8460 86C8431 66 8411 56 8400 56C8391 56 8386 64 8386 76C8386 102 8400 183 8429 328L8442 390L8549 390L8560 440C8522 436 8488 434 8450 434C8466 528 8477 577 8495 631L8484 646C8464 634 8437 622 8406 610L8381 440C8337 419 8311 408 8293 403L8291 390Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,539.9166870117188,387.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,553.6041870117188,387.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,562.0902709960938,387.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,571.1319580078125,387.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,585.888916015625,387.2778015136719);"><path d="M16 23L16 -3C203 -3 203 0 239 0C275 0 275 -3 468 -3L468 82C353 77 307 81 122 77L304 270C401 373 431 428 431 503C431 618 353 689 226 689C154 689 105 669 56 619L39 483L68 483L81 529C97 587 133 612 200 612C286 612 341 558 341 473C341 398 299 324 186 204Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,594.375,387.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g></g></g><g><g><g style="transform:matrix(1,0,0,1,153.763916015625,411.2778015136719);"><path d="M604 347L604 406L65 406L65 347ZM604 134L604 193L65 193L65 134Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g><g style="transform:matrix(1,0,0,1,333.92364501953125,411.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,339.5694580078125,411.2778015136719);"><path d="M280 181L280 106C280 46 269 32 220 30L158 27L158 -3C291 0 291 0 315 0C339 0 339 0 472 -3L472 27L424 30C375 33 364 46 364 106L364 181C423 181 444 180 472 177L472 248L364 245L365 697L285 667L2 204L2 181ZM280 245L65 245L280 597Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,351.451416015625,411.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,365.138916015625,411.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,373.625,411.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,382.66668701171875,411.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,397.42364501953125,411.2778015136719);"><path d="M146 266C146 526 243 632 301 700L282 726C225 675 60 542 60 266C60 159 85 58 133 -32C168 -99 200 -138 282 -215L301 -194C255 -137 146 -15 146 266Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,403.0694580078125,411.2778015136719);"><path d="M280 181L280 106C280 46 269 32 220 30L158 27L158 -3C291 0 291 0 315 0C339 0 339 0 472 -3L472 27L424 30C375 33 364 46 364 106L364 181C423 181 444 180 472 177L472 248L364 245L365 697L285 667L2 204L2 181ZM280 245L65 245L280 597Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,414.951416015625,411.2778015136719);"><path d="M555 243L555 299L51 299L51 243Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,428.638916015625,411.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,437.125,411.2778015136719);"><path d="M51 726L32 700C87 636 187 526 187 266C187 -10 83 -131 32 -194L51 -215C104 -165 273 -23 273 265C273 542 108 675 51 726Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,446.16668701171875,411.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,460.92364501953125,411.2778015136719);"><path d="M16 23L16 -3C203 -3 203 0 239 0C275 0 275 -3 468 -3L468 82C353 77 307 81 122 77L304 270C401 373 431 428 431 503C431 618 353 689 226 689C154 689 105 669 56 619L39 483L68 483L81 529C97 587 133 612 200 612C286 612 341 558 341 473C341 398 299 324 186 204Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g></g></g><g><g><g style="transform:matrix(1,0,0,1,153.763916015625,435.2778015136719);"><path d="M604 347L604 406L65 406L65 347ZM604 134L604 193L65 193L65 134Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g><g style="transform:matrix(1,0,0,1,370.78472900390625,435.2778015136719);"><path d="M462 224C462 345 355 366 308 374C388 436 418 482 418 541C418 630 344 689 233 689C165 689 120 670 72 622L43 498L74 498L92 554C103 588 166 622 218 622C283 622 336 569 336 506C336 431 277 368 206 368C198 368 187 369 174 370L159 371L147 318L154 312C192 329 211 334 238 334C321 334 369 281 369 190C369 88 308 21 215 21C169 21 128 36 98 64C74 86 61 109 42 163L15 153C36 92 44 56 50 6C103 -12 147 -20 184 -20C307 -20 462 87 462 224Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,382.66668701171875,435.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,397.42364501953125,435.2778015136719);"><path d="M462 224C462 345 355 366 308 374C388 436 418 482 418 541C418 630 344 689 233 689C165 689 120 670 72 622L43 498L74 498L92 554C103 588 166 622 218 622C283 622 336 569 336 506C336 431 277 368 206 368C198 368 187 369 174 370L159 371L147 318L154 312C192 329 211 334 238 334C321 334 369 281 369 190C369 88 308 21 215 21C169 21 128 36 98 64C74 86 61 109 42 163L15 153C36 92 44 56 50 6C103 -12 147 -20 184 -20C307 -20 462 87 462 224Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,409.3055419921875,435.2778015136719);"><path d="M611 37L376 271L611 505L568 547L335 313L101 547L59 505L293 271L59 37L101 -5L335 229L568 -5Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g><g style="transform:matrix(1,0,0,1,424.0625,435.2778015136719);"><path d="M16 23L16 -3C203 -3 203 0 239 0C275 0 275 -3 468 -3L468 82C353 77 307 81 122 77L304 270C401 373 431 428 431 503C431 618 353 689 226 689C154 689 105 669 56 619L39 483L68 483L81 529C97 587 133 612 200 612C286 612 341 558 341 473C341 398 299 324 186 204Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g></g></g><g><g><g style="transform:matrix(1,0,0,1,153.763916015625,459.2778015136719);"><path d="M604 347L604 406L65 406L65 347ZM604 134L604 193L65 193L65 134Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><g><g><g style="transform:matrix(1,0,0,1,393.1805419921875,459.2778015136719);"><path d="M418 -3L418 27L366 30C311 33 301 44 301 96L301 700L60 598L67 548L217 614L217 96C217 44 206 33 152 30L96 27L96 -3C250 0 250 0 261 0C292 0 402 -3 418 -3ZM667 345C626 326 609 315 587 294C549 256 529 211 529 159C529 56 612 -20 725 -20C855 -20 963 82 963 206C963 286 926 329 812 381C903 443 935 485 935 545C935 631 864 689 758 689C639 689 552 613 552 508C552 440 579 402 667 345ZM783 295C846 267 884 218 884 164C884 80 821 14 740 14C655 14 600 74 600 167C600 240 629 286 703 331ZM722 423C659 454 627 494 627 544C627 610 675 655 746 655C819 655 867 607 867 534C867 477 842 438 777 396Z" stroke="rgb(0, 0, 0)" stroke-width="8" fill="rgb(0, 0, 0)" style="transform:matrix(0.017,0,0,-0.017,0,0);"></path></g></g></g><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="320.5000305175781" x2="627.4444885253906" y2="320.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="344.5000305175781" x2="627.4444885253906" y2="344.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="368.5000305175781" x2="627.4444885253906" y2="368.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="392.5000305175781" x2="627.4444885253906" y2="392.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="416.5000305175781" x2="627.4444885253906" y2="416.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="440.5000305175781" x2="627.4444885253906" y2="440.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="464.5000305175781" x2="627.4444885253906" y2="464.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="320.5000305175781" x2="42.555572509765625" y2="344.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="143" y1="320.5000305175781" x2="143" y2="344.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="175.888916015625" y1="320.5000305175781" x2="175.888916015625" y2="344.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="627.4444885253906" y1="320.5000305175781" x2="627.4444885253906" y2="344.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="344.5000305175781" x2="42.555572509765625" y2="368.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="143" y1="344.5000305175781" x2="143" y2="368.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="175.888916015625" y1="344.5000305175781" x2="175.888916015625" y2="368.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="627.4444885253906" y1="344.5000305175781" x2="627.4444885253906" y2="368.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="368.5000305175781" x2="42.555572509765625" y2="392.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="143" y1="368.5000305175781" x2="143" y2="392.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="175.888916015625" y1="368.5000305175781" x2="175.888916015625" y2="392.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="627.4444885253906" y1="368.5000305175781" x2="627.4444885253906" y2="392.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="392.5000305175781" x2="42.555572509765625" y2="416.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="143" y1="392.5000305175781" x2="143" y2="416.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="175.888916015625" y1="392.5000305175781" x2="175.888916015625" y2="416.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="627.4444885253906" y1="392.5000305175781" x2="627.4444885253906" y2="416.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="416.5000305175781" x2="42.555572509765625" y2="440.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="143" y1="416.5000305175781" x2="143" y2="440.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="175.888916015625" y1="416.5000305175781" x2="175.888916015625" y2="440.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="627.4444885253906" y1="416.5000305175781" x2="627.4444885253906" y2="440.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="42.555572509765625" y1="440.5000305175781" x2="42.555572509765625" y2="464.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="143" y1="440.5000305175781" x2="143" y2="464.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="175.888916015625" y1="440.5000305175781" x2="175.888916015625" y2="464.5000305175781"></line><line style="fill:none;stroke-width:[object Object];stroke:rgba(0, 0, 0, 0);" x1="627.4444885253906" y1="440.5000305175781" x2="627.4444885253906" y2="464.5000305175781"></line></g></g></g><g><g><text x="157.78125" y="9" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:21.6px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4행 4열 정점에서 삼각형 개수 구하기</text></g></g></svg>
</svg>

```cpp
	//지형 버텍스 생성, 행과 열로 생성한다.
	int iTerrainVertexCount = iTerrainVertexRow * iTerrainVertexCol;
	vTerrainVertices = new SVertex[iTerrainVertexCount];
	for (size_t i = 0; i < iTerrainVertexCount; i++)
	{
		int iRow = i / iTerrainVertexCol;
		int iCol = i % iTerrainVertexCol;
		//평평한 지형
		//vTerrainVertices[i] = { (float)iCol * fTerrainTriangleScale, 0.0f, (float)iRow * -fTerrainTriangleScale, 0xffffffff };
		//가운데가 솟아오른 지형
		vTerrainVertices[i] = { (float)iCol * fTerrainTriangleScale, 
			-(sin(D3DX_PI * 2.0f / iTerrainVertexCount * i + D3DX_PI * 0.5f)) * fTerrainHeight + fTerrainHeight, 
			(float)iRow * -fTerrainTriangleScale, 0xffffffff };
	}


	//버텍스인덱스 생성
	//방법1. 좌상에서 우하로 나뉘는 삼각형
	//이 방식의 장점은 사각형 단위로 그리기 때문에 로직이 단순하다.
	int iIndicesCount = iTriangleCount * 3;
	vTerrainIndices = new WORD[iIndicesCount];
	for (size_t i = 0; i < iTriangleCount; i+=2)
	{
		int iTriangleRow = i / iTriangleColCount;//현재 삼각형의 행번호
		int iVerticesIndex = iTriangleRow + i / 2;
		int iIndicesIndex = i * 3;
		//↘←↑
		vTerrainIndices[iIndicesIndex] = iVerticesIndex;
		vTerrainIndices[iIndicesIndex + 1] = iVerticesIndex + 1 + iTerrainVertexCol;
		vTerrainIndices[iIndicesIndex + 2] = iVerticesIndex + iTerrainVertexCol;
		//→↓↖
		vTerrainIndices[iIndicesIndex + 3] = iVerticesIndex;
		vTerrainIndices[iIndicesIndex + 4] = iVerticesIndex + 1;
		vTerrainIndices[iIndicesIndex + 5] = iVerticesIndex + 1 + iTerrainVertexCol;
	}
```





## 문자 출력

- 폰트 생성
  - D3DXCreateFont() 함수 사용
- 텍스트 출력
  - LPD3DXFONT->DrawText() 함수 사용



## 사운드

### FMOD 설치

- fmod.com
  - FMOD Studio API 다운
  - 설치
    - C:\Program Files (x86)\FMOD SoundSystem\FMOD Studio API Windows



### FMOD 프로젝트 설정

- FMOD 헤더 및 라이브러리 경로 등록
  - 프로젝트 설정 > C/C++ > 일반 > 추가 포함 디렉터리
    - ..\FMOD\core\inc;
  - 프로젝트 설정 > C/C++ > 링커 > 입력 > 추가 종속성
    - ..\FMOD\core\lib\x86\fmod_vc.lib;
- FMOD 사운드 DLL 파일 복사
  - ..\FMOD\core\lib\x86\fmod.dll 파일을 실행파일과 같은 디렉터리로 복사



### FMOD 사용

#### 초기화

```cpp
	static FMOD_SYSTEM *g_fmodSystem;
	FMOD_System_Create(&g_fmodSystem);
	FMOD_System_Init(g_fmodSystem, 32, FMOD_INIT_NORMAL, nullptr);
```



#### 사운드 객체 생성과 사운드 로딩

```cpp
	FMOD_SOUND *fmodSound;//사운드 파일과 일대일 대응
	FMOD_System_CreateSound(g_fmodSystem, "sound.mp3", 
		//FMOD_DEFAULT = FMOD_LOOP_OFF | FMOD_2D | FMOD_HARDWARE
		//FMOD_LOOP_NORMAL : 배경음과 같이 반복이 필요할 경우
		FMOD_DEFAULT,
		0, &fmodSound);
```



#### 사운드 제어

- 로딩된 사운드는 채널을 통해 출력
  - 채널을 FMOD 시스템 초기화 시 설정된 값으로 생성된 채널 중 하나를 반환해준다.
    - ? 확인 요.
  - 채널을 해제할 필요가 없다.
- 배경음과 같이 계속 재생돼야하는 사운드는 채널을 저장했다가 컨트롤하고 효과음 등은 채널 변수를 지역변수로 사용하고 버린다.
- 출력 사운드의 데이터 갱신
  - FMOD에서 사운드 파일은 스트리밍 방식으로 재생된다.
    - 재생되는 일정 데이터만 메모리에 올리고 재생하기 때문에 다음 데이터를 가져오도록 업데이트를 해줘야한다.

```cpp
	FMOD_SYSTEM *pFmodSystem;
	FMOD_SOUND *pFmodSound;//사운드 파일과 일대일 대응
	FMOD_CHANNEL *pFmodChannel;	

	//사운드 재생
	FMOD_System_PlaySound(g_fmodSystem, fmodSound, nullptr, false, &fmodChannel);
	
	//사운드 종료
	FMOD_Channel_Stop(fmodChannel);
		
	//사운드 볼륨 조정
	FMOD_Channel_SetVolume(fmodChannel, 0.1f/*0~1*/);
	
	//사운드 스트리밍 데이터 갱신
	FMOD_System_Update(fmodSystem);

	//사운드 해제
	if (pFmodSound) {
		FMOD_Sound_Release(pFmodSound);
	}
	//FMOD 해제
	if (pFmodSystem) {
		FMOD_System_Close(pFmodSystem);
		FMOD_System_Release(pFmodSystem);
	}
```



### 사운드 리소스

- http://soundbible.com/
  - 회원가입 없이 다운 받을 수 있다.



## 충돌

### 메쉬에서 경계구 산출하기

- 매개변수로 전달한 메쉬를 감싸는 경계구를 계산해준다.

```cpp
	D3DXVECTOR3 vCenter;
	float fRadius;
	D3DXVECTOR3 *pVertices;
	pSphereMesh->LockVertexBuffer(D3DLOCK_READONLY, (LPVOID*)&pVertices);
	pSphereMesh->UnlockVertexBuffer();
	D3DXComputeBoundingSphere(pVertices, pSphereMesh->GetNumVertices(),
		pSphereMesh->GetNumBytesPerVertex()/*or D3DXGetFVFVertexSize()*/,
		&vCenter, &fRadius);
```

### 경계 구를 이용한 충돌

- 두 구의 반지름의 합이 두 구의 원점 사이의 거리보다 작거나 같을 경우 충돌로 판정
- 구로 감싸면 빈틈이 많기 때문에 1차 충돌검출에 많이 사용된다.



### 메쉬에서 경계박스 산출하기

- 매개변수로 전달한 메쉬를 감싸는 경계구를 계산해준다.

```cpp
	//mesh
	D3DXCreateTeapot(pD3DFramework->pD3DDevice, &m_pMesh, nullptr);
	//bounding box
	D3DXVECTOR3 *pVertices;
	m_pMesh->LockVertexBuffer(D3DLOCK_READONLY, (LPVOID*)&pVertices);
	D3DXComputeBoundingBox(pVertices, m_pMesh->GetNumVertices(), 
		m_pMesh->GetNumBytesPerVertex(), &m_vBoundingBoxMin, &m_vBoundingBoxMax);
```



### 경계 박스를 이용한 충돌

#### 방법1. 겹치는 영역이 있는지 확인

- 장점
  - 로직이 간단하다.
  - 한번에 겹치는 영역이 있는지 확인할 수 있다.
  - 박스가 다른 박스를 포함하더라도 충돌여부를 판단할 수 있기 때문에 함수를 두 번 호출하지 않아도 된다.

```cpp
bool CheckCollision(const D3DXVECTOR3 &vMin0, D3DXVECTOR3 &vMax0, D3DXVECTOR3 &vMin1, D3DXVECTOR3 &vMax1) {
	return vMin0.x <= vMax1.x && vMax0.x >= vMin1.x &&
		vMin0.y <= vMax1.y && vMax0.y >= vMin1.y && 
		vMin0.z <= vMax1.z && vMax0.z >= vMin1.z;
}

//check collision
bColided = CheckCollision1(vMin0, vMax0, vMin1, vMax1);
```



#### 방법2. 박스의 꼭지점이 다른 박스 안에 있는지 확인

- 단점
  - 모든 꼭지점을 조사해야한다.
  - 상대 박스에 포함되는지 각각 조사애햐하기 때문에 함수를 두번 호출해야한다.
  - **이렇게 할 수도 있다라고만 생각하고 쓰면 안되겠다.**

```cpp
bool CheckCollision(const D3DXVECTOR3 &vMin0, D3DXVECTOR3 &vMax0, D3DXVECTOR3 &vMin1, D3DXVECTOR3 &vMax1) {
	D3DXVECTOR3 vDistance = vMax0 - vMin0;
	bool bColided = false;
	D3DXVECTOR3 vPoint = {};
	//min
	vPoint = vMin0;//left down
	bColided = CheckPointInBox(vPoint, vMin1, vMax1);
	vPoint = { vMin0.x, vMin0.y + vDistance.y, vMin0.z };//left up
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);
	vPoint = { vMin0.x + vDistance.x, vMin0.y + vDistance.y, vMin0.z };//right up 
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);
	vPoint = { vMin0.x + vDistance.x, vMin0.y, vMin0.z };//right down
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);
	//max
	vPoint = vMax0;//right up
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);
	vPoint = { vMax0.x, vMax0.y - vDistance.y, vMax0.z };//right down
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);
	vPoint = { vMax0.x - vDistance.x, vMax0.y - vDistance.y, vMax0.z };//left down
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);
	vPoint = { vMax0.x - vDistance.x, vMax0.y, vMax0.z };//left up
	bColided = bColided || CheckPointInBox(vPoint, vMin1, vMax1);

	return bColided;
}

//check collision
bColided = CheckCollision0(vMin0, vMax0, vMin1, vMax1);
bColided = bColided || CheckCollision0(vMin1, vMax1, vMin0, vMax0);
```



### 사각형과 원의 충돌 검출(내 생각)

- 사각형을 감싸는 원과 충돌 여부
  - 거리의 제곱과 비교하여 최적화한다.
- 사각형의 중심과 원의 중심을 잊는 벡터와 만나는 사각형의 선분과 원의 방정식을 풀었을 때 해가 1개 혹은 2개인지 여부
- 원의 중심이 사각형 안에 있는지 여부
- 사각형의 중심과 원의 중심을 잊는 벡터와 원의 둘레가 만나는 점이 사각형 안에 있는지 여부
  - 이 방법은 사각형의 꼭지점이 원과 먼저 만날 수 있으므로 정확한 계산을 할 수 없다.



## 머티리얼

- 각 물체에 빛이 닿았을 때 물체의 표면으로부터 반사되는 색상을 설정



### D3DMATERIAL9 구조체

```cpp
typedef struct _D3DMATERIAL9 {
    D3DCOLORVALUE   Diffuse;        /* Diffuse color RGBA */
    D3DCOLORVALUE   Ambient;        /* Ambient color RGB */
    D3DCOLORVALUE   Specular;       /* Specular 'shininess' */
    D3DCOLORVALUE   Emissive;       /* Emissive color RGB */
    float           Power;          /* Sharpness if specular highlight */
} D3DMATERIAL9;
//머티리얼 설정
pD3DFramework->pD3DDevice->SetMaterial(&material);
```

- Diffuse
  - 빛이 물체에 닿았을 경우에 반사하는 색상 설정
- Ambient
  - 방향성이 없는 빛에 대한 반사색을 설정
  - 방향성(Direction Light) 빛에 의한 반사색에는 영향을 주지 않음
- Specular
  - 빛에 의한 밝은 부분의 반사색보다 반짝이게 하는 색상 설정(HighLight의 색상을 설정)
- Emissive
  - 재질이 스스로 특정 색을 방출하는 옵션
- Power
  - 스페큘러 하이라이트의 선명도를 지정하는 부동 소수점값
  - 값이 높아짐에 따라 하이라이트 부분이 보다 선명하게 된다.



## 라이트

### 주변광(Ambient Light)

- 모든 장소에 동일한 세기로 비추어지는 빛
- 위치나 방향이 없고 색상과 강도만 있으므로 음영 효과가 생기지 않음

### 포인트광(Point Light)

- 광원의 위치를 기반으로 빛이 퍼져나가는 빛
- 라이트의 위치와 멀어지면 멀어질 수록 표면에 닿는 빛의 강도가 약하게 표현되는 특징이 있다.
- 백열전구와 비슷하다.

### 방향광(Directional Light)

- 색상과 방향은 가지지만 라이트 위치는 가지지 않는다.
- 거리와는 상관없이 일정하게 비추는 효과

### 스포트라이트(Spot Light)

- 색상, 위치, 빛에 대한 방향을 가짐
- 계산량이 상당히 많아서 게임에서는 거의 사용되지 않고 시뮬레이션 분야와 같이 사실감을 극대와해야하는 그래픽스 분야에서 사용됨



### 라이트의 속성

#### Ambient

- 빛을 직접 받지 않는 곳의 주변색을 설정

#### Diffuse

- 라이트가 비추는 빛의 색상



### 라이트 구조체

```cpp
typedef struct _D3DLIGHT9 {
    D3DLIGHTTYPE    Type;            /* Type of light source */
    D3DCOLORVALUE   Diffuse;         /* Diffuse color of light */
    D3DCOLORVALUE   Specular;        /* Specular color of light */
    D3DCOLORVALUE   Ambient;         /* Ambient color of light */
    D3DVECTOR       Position;         /* Position in world space */
    D3DVECTOR       Direction;        /* Direction in world space */
    float           Range;            /* Cutoff range */
    float           Falloff;          /* Falloff */
    float           Attenuation0;     /* Constant attenuation */
    float           Attenuation1;     /* Linear attenuation */
    float           Attenuation2;     /* Quadratic attenuation */
    float           Theta;            /* Inner angle of spotlight cone */
    float           Phi;              /* Outer angle of spotlight cone */
} D3DLIGHT9;

typedef enum _D3DLIGHTTYPE {
    D3DLIGHT_POINT          = 1,
    D3DLIGHT_SPOT           = 2,
    D3DLIGHT_DIRECTIONAL    = 3,
    D3DLIGHT_FORCE_DWORD    = 0x7fffffff, /* force 32-bit size enum */
} D3DLIGHTTYPE;
```

- Type
  - 광원의 종류
  - D3DLIGHT_POINT, D3DLIGHT_SPOT, D3DLIGHT_DIRECTIONAL, D3DLIGHT_FORCE_DWORD
- Diffuse
  - Light가 방사하는 색생
- Specular
  - Light가 방사하는 반사색
- Ambient
  - Light가 방사하는 주변색
- Direction
  - 빛의 방향을 D3DVECTOR 구조체로 설정
  - Directional Light, Spot Light의 경우에만 적용됨



### 라이트 설정

```cpp
HRESULT SetLight(DWORD Index, const D3DLight9 *pLight);
HRESULT LightEnable(DWORD LightIndex, BOOL bEnable);
```



### 법선벡터와 라이트

- 라이트가 적용되려면 법선벡터가 필요하다.



## 텍스쳐

- 텍스쳐 : 이미지
  - bmp, **tga**, **dds**, jpg, png
  - 가로, 세로 크기가 16의 배수가 돼야한다.
- 텍셀 : 이미지 픽셀
- 텍스쳐 좌표
  - 실제 이미지의 크기와 상관없이 상대좌표로 지정한다.
  - 가로(tu), 세로(tv)인 0.0f부터 1.0f까지 지정
  - 좌하단이 (0,0)이고 우상단이 (1,1)



### 텍스쳐 정점 구조

```cpp
//텍스쳐는 항상 D3DFVF_TEX1부터 시작, D3DFVF_TEX0은 사용할 텍스쳐 좌표계가 없다는 것을 알린다.
#define D3DFVF_SVertexTexture (D3DFVF_XYZ | D3DFVF_TEX1) 
struct SVertexTexture {
	D3DXVECTOR3 xyz;
	float tu, tv;
};
```



### 텍스쳐 생성

- 외부로부터 이미지를 읽어 텍스쳐 객체인 IDirect3DTexture9을 생성

```cpp
//텍스쳐 생성
LPDIRECT3DTEXTURE9 m_pTexture;
D3DXCreateTextureFromFile(pD3DFramework->pD3DDevice, "../Resources/Textures/darkbrown.png", &m_pTexture);
//등록
pD3DFramework->pD3DDevice->SetTexture(0, m_pTexture);
```



## 메쉬

### x 파일 형식

- x 파일
  - x 파일에는 애니메이션, 텍스쳐, 머티리얼, 라이트 등과 같은 많은 정보가 저장
  - template이라는 태그를 통해서 구분
  - DirectX에서 지원
  - 머티리얼이 여러개 있을 수 있고 머티리얼  마다 정점이 각각 있다.
- ase 파일



### x 파일 객체와 선언

```cpp
	//x파일을 로드할 때 생성되는 데이터들
	LPD3DXMESH m_pMesh;
	D3DMATERIAL9 *m_pMeshMaterials;//머티리얼은 여러개가 있을 수 있기 때문에 포인터 변수로 받는다.
	LPDIRECT3DTEXTURE9 *m_pMeshTextures;
	DWORD m_dwNumMaterials;//머티리얼의 개수
```



### x파일 로딩

- 3D Max에서는 머티리얼을 MeshMaterialList라는 템플리트안에 저장하며 각 머티리얼로 구분하여 메쉬가 저장된다.
- 이를 읽고 파싱해주는 함수가 D3DXLoadMeshFromX() 함수이다.

```cpp
HRESULT WINAPI
    D3DXLoadMeshFromXA(
        LPCSTR pFilename, //x파일 파일명
        DWORD Options, //메쉬를 생성할 메모리, 
        LPDIRECT3DDEVICE9 pD3DDevice, //Direct3D의 device
        LPD3DXBUFFER *ppAdjacency,//인접 정점의 정보를 리턴, directx9에서는 사용하지 않는다.
        LPD3DXBUFFER *ppMaterials, //머티리얼 정보를 리턴
        LPD3DXBUFFER *ppEffectInstances, //effect의 초기값 리턴, directx9에서는 사용하지 않는다.
        DWORD *pNumMaterials,//머티리얼 개수 리턴
        LPD3DXMESH *ppMesh//생성된 메쉬 객체를 리턴(정점 정보를 가진 버퍼)
    );

//x파일 로드
LPD3DXBUFFER pD3DXMtrlBuffer;//범용적인 데이터를 다룬는 객체, 형 변환이 필수
//pD3DXMtrlBuffer->GetBufferPointer();
//pD3DXMtrlBuffer->GetBufferSize();
D3DXLoadMeshFromX("../Resources/Meshes/Tiger/tiger.x",
                  D3DXMESH_SYSTEMMEM, //D3DXMESH_MANAGED, D3DXMESH_DYNAMIC
                  pD3DFramework->pD3DDevice,
                  nullptr,
                  &pD3DXMtrlBuffer,
                  nullptr,
                  &m_dwNumMaterials,
                  &m_pMesh
	);
```



### 머티리얼과 텍스쳐 로딩

- 머티리얼과 텍스쳐 정보를 x파일로부터 가져오기 위한 구조체
- 머티리얼 버퍼로부터 머티리얼과 텍서쳐 파일명을 가져오기 위해 사용한다.

```cpp
typedef struct _D3DXMATERIAL
{
    D3DMATERIAL9  MatD3D;
    LPSTR         pTextureFilename;
} D3DXMATERIAL;
typedef D3DXMATERIAL *LPD3DXMATERIAL;

```



### x파일 로드 및 렌더링

```cpp
//x파일로부터 데이터를 받을 변수들
LPD3DXMESH m_pMesh;//메쉬를 저장할 변수
D3DMATERIAL9 *m_pMeshMaterials;//머티리얼을 저장할 변수, 머티리얼은 여러개가 있을 수 있기 때문에 포인터 변수로 받는다.
LPDIRECT3DTEXTURE9 *m_pMeshTextures;//텍스쳐 저장 변수
DWORD m_dwNumMaterials;//머티리얼의 개수
LPD3DXBUFFER pD3DXMtrlBuffer;//머티리얼 정보를 받아올 버퍼, 범용적인 데이터를 다룬는 객체이므로 형 변환이 필요하다.
//x파일 로드
D3DXLoadMeshFromX("../Resources/Meshes/Tiger/tiger.x",//x파일 경로
	D3DXMESH_SYSTEMMEM, //메쉬 데이터를 생성할 메모리 지정, D3DXMESH_MANAGED, D3DXMESH_DYNAMIC
	pD3DFramework->pD3DDevice,//d3d 디바이스
	nullptr,//인접 정점의 정보를 리턴, directx9에서는 사용하지 않는다.
	&pD3DXMtrlBuffer,//머티리얼 정보를 리턴
	nullptr,//effect의 초기값 리턴, directx9에서는 사용하지 않는다.
	&m_dwNumMaterials,//머티리얼 개수 리턴
	&m_pMesh //생성된 메쉬 객체를 리턴(정점 정보를 가진 버퍼)
);
//머티리얼 버퍼로부터 머티리얼을 가져올 수 있도록 시작 포인터를 얻는다.
D3DXMATERIAL *pD3dxMaterial = (D3DXMATERIAL *)pD3DXMtrlBuffer->GetBufferPointer();
//머티리얼을 저장 할 수 있도록 배열을 생성
m_pMeshMaterials = new D3DMATERIAL9[m_dwNumMaterials];
//텍스쳐를 저장 할 수 있도록 배열을 생성
m_pMeshTextures = new LPDIRECT3DTEXTURE9[m_dwNumMaterials];//머티리얼 하나당 텍스쳐 하나(?)
//머티리얼 버퍼로부터 머티리얼을 저장
for (DWORD i = 0; i < m_dwNumMaterials; i++) {
	//material
	m_pMeshMaterials[i] = pD3dxMaterial[i].MatD3D;
	m_pMeshMaterials[i].Ambient = m_pMeshMaterials[i].Diffuse;
	//texture
	m_pMeshTextures[i] = nullptr;
	if (pD3dxMaterial[i].pTextureFilename != nullptr && strlen(pD3dxMaterial[i].pTextureFilename) > 0) {
		//텍스쳐 생성
		char szPath[MAX_PATH] = {};
		sprintf_s(szPath, "../Resources/Meshes/Tiger/%s", pD3dxMaterial[i].pTextureFilename);
		D3DXCreateTextureFromFile(pD3DFramework->pD3DDevice, szPath, &m_pMeshTextures[i]);
	}
}
//머티리얼 버퍼의 정보를 모두 저장했으므로 해제
pD3DXMtrlBuffer->Release();
pD3dxMaterial = nullptr;
//라이트 설정
pD3DFramework->pD3DDevice->SetRenderState(D3DRS_LIGHTING, true);//메쉬에 정정 벡터가 있으므로 라이트를 켠다.
pD3DFramework->pD3DDevice->SetRenderState(D3DRS_AMBIENT, 0xffffffff);//주변광을 백색으로 설정
pD3DFramework->pD3DDevice->SetRenderState(D3DRS_ZENABLE, true);//z버퍼를 켠다.

//렌더링
for (DWORD i = 0; i < m_dwNumMaterials; i++) {
    //material
    pD3DFramework->pD3DDevice->SetMaterial(&m_pMeshMaterials[i]);
    //texture
    pD3DFramework->pD3DDevice->SetTexture(0, m_pMeshTextures[i]);
    //mesh
    m_pMesh->DrawSubset(i);
}
```



## Direct3D Framework

- Document
  - DirectX Software Development Kit > Programming Guide > DXUT

#### DXUT 콜백 등록 함수

##### Direct3D device 관련 함수

###### DXUTSetCallbackDeviceCreated()

- 윈도우 초기화와 Direct3D device가 생성되었을 때 호출되는 함수를 설정

###### DXUTSetCallbackDeviceReset()

- Device의 소실 때 호출 함수 설정

###### DXUTSetCallbackDeviceLost()

- Direct3D device가 소실상태에 들어가면 호출되는 콜백함수를 설정

###### DXUTSetCallbackDeviceDestroyed()

- device를 재생성하거나 응용프로그램이 종료할 때 호출되는 콜백함수 설정



##### Frame 관련 함수

###### DXUTSetCallbackFrameMove()

- 프레임 갱신 시작 할 때 호출되는 콜백함수 설정

###### DXUTSetCallbackFrameRender()

- 화면에 출력하는 콜백함수를 설정



##### Msg 관련 함수

###### DXUTSetCallbackMsgProc()

- 윈도우 메시지가 발생될 때 호출되는 콜백함수를 설정

###### DXUTSetCallbackKeyboard()

- 키보드와 관련된 메시지가 발생될 때 호출되는 콜백함수를 설정

###### DXUTSetCallbackMouse()

- 마우스 메시지 발생될 때 호출되는 콜백함수를 설정







#### Direct3D Framework에서 실행되는 콜백 함수

##### OnD3D9CreateDevice()

- 특정한 d3d device에 대한 설정
- 백버퍼에 대한 설정
- 카메라와 프로젝션 설정
- d3d device에 한 번만 설정하는 코드

##### OnD3D9ResetDevice()

- device가 소실되었을 경우 device에 연관(연결)된 객체를 다시 셋업하기 위한 함수이다.
- 소실이란
  - 화면에 보이는 윈도우가 가려지거나 크기 변경등이 일어났을 때 device에 설정한 객체(값)중 일부가 사라지는 것.
  - 윈도우가 다시 화면에 나타날 때 소실된 객체를 다시 설정해줘야한다.
  - 화면이 변경될 경우 백버퍼의 크기가 변경되므로 다시 설정해야한다.

##### OnFrameMove()

- 데이터 갱신 함수

##### OnD3D9FrameRender()

- 렌더링 함수

##### MsgProc()

- 응용프로그램의 윈도우 메시지를 처리
- WndProc()과 같은 역할

##### OnD3D9LostDevice()

- device에 연관된 객체를 해제
- OnD3D9ResetDevice()에서 생성된 객체를 해제

##### wWinMain()

- 어플리케이션의 시작점



##### 콜백함수 호출 순서

1. 윈도우 생성부터 종료 전까지
   1. IsD3D9DeviceAccepatble
   2. ModifyDeviceSettings
   3. OnD3D9CreateDevice
   4. OnD3D9ResetDevice
   5. OnD3D9FrameMove
   6. OnD3DFrameRender(->OnD3D9FrameMove 반복)
2. 윈도우가 종료될 때
   1. OnD3D9LostDevice
   2. OnD3D9DestroyDevice

1. Device 소실될 때 또는 윈도우 크기가 변경될 때
   1. OnD3D9LostDevice
   2. OnD3D9ResetDevice



#### 윈도우와 Direct3D 생성 및 초기화

```cpp
/*
HRESULT WINAPI DXUTInit( bool bParseCommandLine, 
                         bool bShowMsgBoxOnError, 
                         __in_opt WCHAR* strExtraCommandLineParams,
                         bool bThreadSafeDXUT )
*/
DXUTInit( true, true ); // Parse the command line and show error msgboxes
/*
void WINAPI DXUTSetHotkeyHandling( bool bAltEnterToToggleFullscreen, bool bEscapeToQuit, bool bPauseToToggleTimePause )
*/
DXUTSetHotkeyHandling( true, true, true );  // handle the default hotkeys
/*
void WINAPI DXUTSetCursorSettings( bool bShowCursorWhenFullScreen, bool bClipCursorWhenFullScreen )
*/
DXUTSetCursorSettings( true, true ); // Show the cursor and clip it when in full screen
/*
HRESULT WINAPI DXUTCreateWindow( const WCHAR* strWindowTitle, HINSTANCE hInstance,
                                 HICON hIcon, HMENU hMenu, int x, int y )
*/
DXUTCreateWindow( L"EmptyProject" );
/*
HRESULT WINAPI DXUTCreateDevice( bool bWindowed, int nSuggestedWidth, int nSuggestedHeight )
*/
DXUTCreateDevice( true, 640, 480 );
```


#### 게임 루프

```cpp
DXUTMainLoop();
```

위 함수를 실행하면 다음 함수가 계속 실행된다.

    MsgProc()
    OnFrameMove()
    OnD3D9FrameRender()


#### 윈도우 모드와 전체화면 모드의 전환

DXUTToggleFullScreen()

위 함수가 실행되면 다음과 같은 흐름으로 전체화면 전환이 이루어진다.

1. ModifyDeviceSettings()
2. OnLostDevice()
3. OnResetDevice()
4. Toggle 실행
5. OnFrameMove()
6. OnFrameRender()



#### Direct3D Framework 기본 구조

##### EmptyProject

- Direct3D SDK가 제공하는 빈 프로젝트로써 가장 기본적인 Direct3D Framework의 구조를 볼 수 있다.
- DirectX Sample Browser를 통해 프로젝트를 생성할 수 있다.

```cpp
//박스 메쉬를 그리는 예제

//--------------------------------------------------------------------------------------
// File: EmptyProject.cpp
//
// Copyright (c) Microsoft Corporation. All rights reserved.
//--------------------------------------------------------------------------------------
#include "DXUT.h"
#include "resource.h"


//--------------------------------------------------------------------------------------
// Rejects any D3D9 devices that aren't acceptable to the app by returning false
//--------------------------------------------------------------------------------------
bool CALLBACK IsD3D9DeviceAcceptable(D3DCAPS9* pCaps, D3DFORMAT AdapterFormat, D3DFORMAT BackBufferFormat,
	bool bWindowed, void* pUserContext) {
	// Typically want to skip back buffer formats that don't support alpha blending
	IDirect3D9* pD3D = DXUTGetD3D9Object();
	if (FAILED(pD3D->CheckDeviceFormat(pCaps->AdapterOrdinal, pCaps->DeviceType,
		AdapterFormat, D3DUSAGE_QUERY_POSTPIXELSHADER_BLENDING,
		D3DRTYPE_TEXTURE, BackBufferFormat)))
		return false;

	return true;
}


//--------------------------------------------------------------------------------------
// Before a device is created, modify the device settings as needed
//--------------------------------------------------------------------------------------
bool CALLBACK ModifyDeviceSettings(DXUTDeviceSettings* pDeviceSettings, void* pUserContext) {
	return true;
}


//--------------------------------------------------------------------------------------
// Create any D3D9 resources that will live through a device reset (D3DPOOL_MANAGED)
// and aren't tied to the back buffer size
//--------------------------------------------------------------------------------------
LPD3DXMESH pMesh;
HRESULT CALLBACK OnD3D9CreateDevice(IDirect3DDevice9* pd3dDevice, const D3DSURFACE_DESC* pBackBufferSurfaceDesc,
	void* pUserContext) {
	//viewport
	RECT sRect;
	D3DVIEWPORT9 d3dViewport;
	d3dViewport.X = 0;
	d3dViewport.Y = 0;
	d3dViewport.Width = pBackBufferSurfaceDesc->Width;
	d3dViewport.Height = pBackBufferSurfaceDesc->Height;
	d3dViewport.MinZ = 0.0f;
	d3dViewport.MaxZ = 1.0f;
	pd3dDevice->SetViewport(&d3dViewport);
	//camera
	D3DXMATRIX matCamera;
	D3DXVECTOR3 vCameraEye = { 5.0f, 5.0f, -10.0f };
	D3DXVECTOR3 vCameraAt = { 0.0f, 0.0f, 0.0f };
	D3DXVECTOR3 vCameraUp = { 0.0f, 1.0f, 0.0f };
	D3DXMatrixLookAtLH(&matCamera, &vCameraEye, &vCameraAt, &vCameraUp);
	pd3dDevice->SetTransform(D3DTS_VIEW, &matCamera);
	//projection
	D3DXMATRIX matProj;
	D3DXMatrixPerspectiveFovLH(&matProj,
		3.14*0.5,
		pBackBufferSurfaceDesc->Width / pBackBufferSurfaceDesc->Height,
		1.0f,
		50.0f);
	pd3dDevice->SetTransform(D3DTS_PROJECTION, &matProj);
	pd3dDevice->SetRenderState(D3DRS_FILLMODE, D3DFILL_WIREFRAME);
	pd3dDevice->SetRenderState(D3DRS_LIGHTING, false);
	pd3dDevice->SetRenderState(D3DRS_ZENABLE, true);//z버퍼를 켠다.
	//mesh
	D3DXCreateBox(pd3dDevice, 1, 1, 1, &pMesh, nullptr);

	return S_OK;
}


//--------------------------------------------------------------------------------------
// Create any D3D9 resources that won't live through a device reset (D3DPOOL_DEFAULT) 
// or that are tied to the back buffer size 
//--------------------------------------------------------------------------------------
HRESULT CALLBACK OnD3D9ResetDevice(IDirect3DDevice9* pd3dDevice, const D3DSURFACE_DESC* pBackBufferSurfaceDesc,
	void* pUserContext) {
	return S_OK;
}


//--------------------------------------------------------------------------------------
// Handle updates to the scene.  This is called regardless of which D3D API is used
//--------------------------------------------------------------------------------------
void CALLBACK OnFrameMove(double fTime, float fElapsedTime, void* pUserContext) {
}


//--------------------------------------------------------------------------------------
// Render the scene using the D3D9 device
//--------------------------------------------------------------------------------------
void CALLBACK OnD3D9FrameRender(IDirect3DDevice9* pd3dDevice, double fTime, float fElapsedTime, void* pUserContext) {
	HRESULT hr;

	// Clear the render target and the zbuffer 
	V(pd3dDevice->Clear(0, NULL, D3DCLEAR_TARGET | D3DCLEAR_ZBUFFER, D3DCOLOR_ARGB(0, 45, 50, 170), 1.0f, 0));

	// Render the scene
	if (SUCCEEDED(pd3dDevice->BeginScene())) {
		//draw mesh
		D3DXMATRIX matScale = {};
		D3DXMATRIX matRot = {};
		D3DXMATRIX matTranslate = {};
		float fScale = 4.0f;
		float fAngleY = 3.14*0.2;
		D3DXMatrixScaling(&matScale, fScale, fScale, fScale);
		D3DXMatrixRotationY(&matRot, fAngleY);
		D3DXMatrixTranslation(&matTranslate, 0.0f, 0.0f, 0.0f);
		pd3dDevice->SetTransform(D3DTS_WORLD, &(matScale * matRot * matTranslate));
		pMesh->DrawSubset(0);

		V(pd3dDevice->EndScene());
	}
}


//--------------------------------------------------------------------------------------
// Handle messages to the application 
//--------------------------------------------------------------------------------------
LRESULT CALLBACK MsgProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam,
	bool* pbNoFurtherProcessing, void* pUserContext) {
	return 0;
}


//--------------------------------------------------------------------------------------
// Release D3D9 resources created in the OnD3D9ResetDevice callback 
//--------------------------------------------------------------------------------------
void CALLBACK OnD3D9LostDevice(void* pUserContext) {
}


//--------------------------------------------------------------------------------------
// Release D3D9 resources created in the OnD3D9CreateDevice callback 
//--------------------------------------------------------------------------------------
void CALLBACK OnD3D9DestroyDevice(void* pUserContext) {
	if (pMesh) {
		pMesh->Release();
	}
}


//--------------------------------------------------------------------------------------
// Initialize everything and go into a render loop
//--------------------------------------------------------------------------------------
INT WINAPI wWinMain(HINSTANCE, HINSTANCE, LPWSTR, int) {
	// Enable run-time memory check for debug builds.
#if defined(DEBUG) | defined(_DEBUG)
	_CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF);
#endif

	// Set the callback functions
	DXUTSetCallbackD3D9DeviceAcceptable(IsD3D9DeviceAcceptable);
	DXUTSetCallbackD3D9DeviceCreated(OnD3D9CreateDevice);
	DXUTSetCallbackD3D9DeviceReset(OnD3D9ResetDevice);
	DXUTSetCallbackD3D9FrameRender(OnD3D9FrameRender);
	DXUTSetCallbackD3D9DeviceLost(OnD3D9LostDevice);
	DXUTSetCallbackD3D9DeviceDestroyed(OnD3D9DestroyDevice);
	DXUTSetCallbackDeviceChanging(ModifyDeviceSettings);
	DXUTSetCallbackMsgProc(MsgProc);
	DXUTSetCallbackFrameMove(OnFrameMove);

	// TODO: Perform any application-level initialization here

	// Initialize DXUT and create the desired Win32 window and Direct3D device for the application
	DXUTInit(true, true); // Parse the command line and show msgboxes
	DXUTSetHotkeyHandling(true, true, true);  // handle the default hotkeys
	DXUTSetCursorSettings(true, true); // Show the cursor and clip it when in full screen
	DXUTCreateWindow(L"EmptyProject");
	DXUTCreateDevice(true, 640, 480);

	// Start the render loop
	DXUTMainLoop();

	// TODO: Perform any application-level cleanup here

	return DXUTGetExitCode();
}
```



##### EmptyProject 프로젝트 실행 시 컴파일 에러 해결

1. DXUTenum.cpp > 3375라인의 abs()함수를 fabsf()함수로 변경
2. DXUT.h > 100라인쯤에 다음과 같은 코드 입력
   1. auto __vsnwprintf = _vsnwprintf;

```

```





### DXUT 유틸리티 파일

#### DXUT.cpp

- Direct3D Framework 관련 대부분의 전역함수와 콜백함수들이 있다.

#### DXUTcamera.cpp

- 카메라 클래스가 있어서 툴과 게임에서 쉽게 카메라를 사용할 수 있게 해준다.
- 특히 CD3DArcBall 클래스는 툴을 만들 때 유용한 클래스이다.

#### DXUTenum.cpp

- Direct3D의 어뎁터와 디바이스와 모드에 대한 설정 함수가 있다.

#### DXUTgui.cpp

- Direct3D 다이얼로그, 리소스 관리자, 컨트롤(버튼, Static Text등)을 구현한 클래스가 있다.

#### DXUTmisc.cpp

- 타이머, 화면등에 관한 함수와 클래스가 있다.
- misc
  - miscellaneous [*mìsəléiniəs*]
  - 잡동사니, 여러가지, 기타, 갖가지의

#### DXUTres.cpp

- Direct3D에서 제공되는 리소스에 대한 아이디가 있다.

#### DXUTsettingsdlg.cpp

- Direct3D를 셋업하기 위한 Dialog GUI 클래스가 있다.

#### SDKmesh.cpp

- 메쉬를 다루기 위한 클래스가 있다.

#### SDKmisc.cpp

- 메쉬에 사용되는 텍스쳐와 텍스트 출력등에 관한 클래스가 있다.



### Direct3D Sample  Project

- 기본으로 유니코드  문자열을 사용하도록 설정되어있다.





## 영어

- reciprocal [risíprəkəl]
  - 상호의, 상응하는
- homogeneous [hòumədʒíːniəs]
  - 동종의, 순일의, 동원의
- strip
  - 스트립, 띠, 박탈하다, 벗기다, 박판
- translation
  - 평행 이동
- transformation
  - 변형, 변환
- adjacency [ədʒéisnsi]
  - 인접, 근접
- stride [straid]
  - 보폭, 발전, 진전, 성큼성큼, 활보



# 참고

- [https://abipictures.tistory.com/115](https://abipictures.tistory.com/115)
- [https://vallista.tistory.com/entry/DX-9-Direct3D-%EC%8B%9C%EC%9E%91](https://vallista.tistory.com/entry/DX-9-Direct3D-시작)
- [DirectX 3D 게임 프로그래밍](https://www.youtube.com/watch?v=xYDzdQAUF8E&list=PLOKPEzlY4JKSZLgY_jH4danTYinRKIPz1&index=10)
- [정점 포맷과 정점 버퍼](https://hellowoori.tistory.com/31)
- [Working with D3DXMath](https://docs.microsoft.com/en-us/windows/win32/dxmath/pg-xnamath-migration-d3dx)
- [https://stonzeteam.github.io/SIMD-%EB%B3%91%EB%A0%AC-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/](https://stonzeteam.github.io/SIMD-병렬-프로그래밍/)
- http://blog.naver.com/PostView.nhn?blogId=qkfdjq451&logNo=220842864791&beginTime=0&jumpingVid=&from=search&redirect=Log&widgetTypeCall=true
- [DrawIndexedPrimitive() 함수에 대하여 조금 상세히..](https://blog.naver.com/lgmpfree/100055862741)
- [행/열기준 행렬 및 OpenGL 성능](https://www.youtube.com/watch?v=qu7klX_5FT8)
- [D3DXVec3Transform 세가지 함수](https://moople.tistory.com/98)
- [나우캠퍼스 3D 게임 프로그래밍](https://nowcampus.tistory.com/category/%EA%B2%8C%EC%9E%84%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/3D%20%EA%B2%8C%EC%9E%84%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)
- [DXUT 사용하는 방법](https://ljhblog.tistory.com/50)
- 

