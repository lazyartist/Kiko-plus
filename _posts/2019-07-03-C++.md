---
layout: post
title: "C++"
description: ""
date: 2019-07-03 00:00:00
tags: [c, c++]
comments: true
share: true
---

[TOC]



## 구조체와 클래스의 차이

- C에서의 구조체는 변수를 묶어주는 역할을 하고 메서드를 포함 할 수 없다.
- C++에서 구조체는 클래스와 거의 동일한 정의/선언 형식과 사용방법을 가진다.
  - 차이점은 범위접근 지정자를 명시하지 않았을 시 기본 범위접근 지정자가 다르다.
    - 구조체는 기본으로 public 이고 클래스는 기본으로 private 이다.
  - 구조체도 클래스처럼 함수 선언 및 정의, 생성자 및 소멸자 선언 및 정의, 상속 구조를 사용할 수 있다.



## C와 C++에서의 구조체

- C에서의 구조체는 데이터를 묶어주는 용도일뿐이라서 함수선언을 할 수 없고 생성자, 소멸자 개념이 없다.
- C++에서의 구조체는 사실상 클래스와 같은 것으로 기본 범위지정이 다를뿐이다.



## cast 정리



## 윈도우 프로시저에 클래스 멤버 함수를 전달하기

- 윈도우 프로시저는 함수를 받는데 이곳에 클래스 멤버 함수를 전달할 수 없다.
- 만약 전달할 수 있다해도 this 객체를 지정할 수 없기 때문에 호출 할 수 없다.



## STL

### vector의 원소를 참조할 때 복사가 발생하나? 복사가 발생하지 않게하려면 어떻게 하나?

- 



### 변수 선언하며 받는것과 이미 선언된 변수에 받는 것에 && 복사생성자 호출에 차이가 있나?

- 



### 배열접근 연산자로 접근하면 복사가 발생하나? 포인터로 받으면 복사가 발생하나?

- 





## 라이브러리

### 정적 라이브러리(Static Library)

- 미리 만들어진 정적 라이브러리 파일(lib)에 있는 함수 및 데이터를 헤더 파일을 이용해 사용하고 링크 작업 시 함수와 데이터가 실행파일에 포함(복사)된다.
  - Visual Studio에서 정적 라이브러리를 포함하는 프로젝트를 빌드하면 정적 라이브러리 프로젝트도 자동 빌드되어 .lib 파일이 만들어진다.
  - 이후 정적 라이브러리의 변경이 없으면 이미 만들어진 .lib 파일을 사용하고 변경됐다면 함께 빌드된다.
- Win32 Static Library 프로젝트로 만들어진 라이브러리의 함수 및 데이터는 #include 전처리 명령어를 통해 사용할 수 있다.
- 장점
  - 실행 파일에 모든 라이브러리들이 존재하고 그것이 정확한 버전인 것을 확신할 수 있기 때문에 동적 라이브러리(DLL)의 의존성 문제를 피할 수 있다.
  - 어플리케이션이 단일 실행파일에 모두 포함되므로 배로와 설치가 간단하다.
  - 참조하는 라이브러리를 부분적으로 포함하기 때문에 전체 라이브러리를 로드하는 동적 라이브러리는 보다 파일 크기가 줄어들 수 있다.
- 단점
  - 라이브러리에 버그가 있을 경우 수정하여 실행파일 전체를 다시 배포해야한다.
- 윈도우는 lib, 리눅스는 .a 확장자를 사용한다.



#### 정적 라이브러리를 Visual Studio에서 사용

- 정적 라이브러리 프로젝트를 생성
- 정적 라이브러리를 사용할 프로젝트에서 "우클릭 > 추가 > 참조" 선택하고 사용할 정정 라이브러리 선택



### 공유 라이브러리(Shared Library)

#### 동적 링크(Dynamic Link)

- 라이브러리의 코드와 어플리케이션의 코드가 프로그램 실행 시 메모리에 로드되는 시점에 링크된다.
- 실행 파일에는 함수의 호출 방법만 있고 어플리케이션이 실행되고 라이브러리가 로드된 시점에 함수의 주소를 알 수 있다.
- 여러 어플리케이션에서 하나의 라이브러리를 공유하기 때문에 메모리를 효율적으로 이용한다.
- 윈도우는 .dll, 리눅스는 .so 확장자를 사용한다.
- 어플리케이션 실행 시 라이브러리 코드를 모두 메모리에 읽어놓고 실행된다.

#### 동적 로드(Dynamic Load)

- 라이브러리 로드 시점이 어플리케이션 실행 시점이 아니라 어플리케이션 내부에서 필요 시점에 로드한다.
- 프로그램 동작 상황에 따라 필요한 라이브러리와 함수를 로드할 수 있다.
- 윈도우는 .dll, 리눅스는 .so 확장자를 사용한다.



## 참고

- https://sosal.kr/668?category=234063
- [https://ko.wikipedia.org/wiki/%EC%A0%95%EC%A0%81_%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC](https://ko.wikipedia.org/wiki/정적_라이브러리)
- https://m.blog.naver.com/kr_dukie27/10175747579